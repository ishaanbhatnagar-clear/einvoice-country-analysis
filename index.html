<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clear Global eInvoicing Mandate Tracker</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --success: #16a34a;
            --warning: #f59e0b;
            --danger: #dc2626;
            --info: #0891b2;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-500: #6b7280;
            --gray-700: #374151;
            --gray-900: #111827;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--gray-50);
            color: var(--gray-900);
            line-height: 1.5;
        }

        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .header-meta {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
            font-size: 0.875rem;
            opacity: 0.8;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.25rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--primary);
        }

        .stat-card.success { border-left-color: var(--success); }
        .stat-card.warning { border-left-color: var(--warning); }
        .stat-card.danger { border-left-color: var(--danger); }
        .stat-card.info { border-left-color: var(--info); }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--gray-500);
            margin-top: 0.25rem;
        }

        .filters {
            background: white;
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .filter-group label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .filter-group select,
        .filter-group input {
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            font-size: 0.875rem;
            min-width: 150px;
            background: white;
        }

        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-input {
            flex: 1;
            min-width: 250px;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--gray-200);
            color: var(--gray-700);
        }

        .btn-secondary:hover {
            background: var(--gray-300);
        }

        .table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .table-wrapper {
            overflow: auto;
            max-height: 70vh;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }

        th {
            background: var(--gray-50);
            padding: 0.75rem 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--gray-700);
            border-bottom: 2px solid var(--gray-200);
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        th:hover {
            background: var(--gray-100);
        }

        th .sort-icon {
            margin-left: 0.5rem;
            opacity: 0.5;
        }

        th.sorted .sort-icon {
            opacity: 1;
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--gray-100);
            vertical-align: top;
        }

        tr:hover {
            background: var(--gray-50);
        }

        .country-cell {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .flag {
            font-size: 1.25rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .badge-mandatory {
            background: #dcfce7;
            color: #166534;
        }

        .badge-voluntary {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-planned {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-na {
            background: var(--gray-100);
            color: var(--gray-500);
        }

        .badge-upcoming {
            background: #fce7f3;
            color: #be185d;
        }

        .mandate-cell {
            min-width: 180px;
        }

        .mandate-status {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .mandate-date {
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        .mandate-detail {
            font-size: 0.75rem;
            color: var(--gray-600);
            margin-top: 0.25rem;
        }

        .callout-cell {
            max-width: 300px;
            font-size: 0.75rem;
        }

        .callout-item {
            display: flex;
            gap: 0.25rem;
            margin-bottom: 0.25rem;
        }

        .callout-label {
            font-weight: 600;
            color: var(--gray-600);
        }

        .urgency-high {
            color: var(--danger);
            font-weight: 600;
        }

        .urgency-medium {
            color: var(--warning);
            font-weight: 600;
        }

        .region-mena { border-left: 3px solid #f59e0b; }
        .region-europe { border-left: 3px solid #3b82f6; }
        .region-apac { border-left: 3px solid #10b981; }
        .region-latam { border-left: 3px solid #8b5cf6; }
        .region-africa { border-left: 3px solid #ef4444; }
        .region-northamerica { border-left: 3px solid #6b7280; }

        .expandable {
            cursor: pointer;
        }

        .expandable:hover {
            text-decoration: underline;
        }

        .detail-row {
            display: none;
            background: var(--gray-50);
        }

        .detail-row.expanded {
            display: table-row;
        }

        .detail-content {
            padding: 1rem;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .detail-section h4 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 0.5rem;
            padding-bottom: 0.25rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .detail-section p {
            font-size: 0.8125rem;
            color: var(--gray-600);
            margin-bottom: 0.25rem;
        }

        .model-badge {
            display: inline-block;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-size: 0.6875rem;
            font-weight: 500;
            background: var(--gray-100);
            color: var(--gray-700);
            margin-right: 0.25rem;
        }

        .model-clearance { background: #fef3c7; color: #92400e; }
        .model-peppol { background: #dbeafe; color: #1e40af; }
        .model-ctc { background: #dcfce7; color: #166534; }
        .model-postaudit { background: #f3e8ff; color: #7c3aed; }

        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--gray-500);
            font-size: 0.875rem;
        }

        .export-btns {
            display: flex;
            gap: 0.5rem;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .filters {
                flex-direction: column;
            }

            .filter-group {
                width: 100%;
            }

            .filter-group select,
            .filter-group input {
                width: 100%;
            }
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            padding: 1rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
            font-size: 0.75rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .priority-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .priority-high { background: var(--danger); }
        .priority-medium { background: var(--warning); }
        .priority-low { background: var(--success); }

        .timeline-badge {
            font-size: 0.6875rem;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            background: #fef2f2;
            color: #dc2626;
            font-weight: 500;
        }

        .gdp-cell {
            text-align: right;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.8125rem;
        }

        /* Ticker */
        .ticker-wrap { width: 100%; overflow: hidden; background: linear-gradient(90deg, #1e293b, #334155); padding: 10px 0; margin-bottom: 0; }
        .ticker { display: inline-block; white-space: nowrap; animation: ticker 30s linear infinite; }
        .ticker-item { display: inline-block; padding: 0 50px; color: #fbbf24; font-weight: 500; font-size: 0.85em; }
        .ticker-item span { color: #f8fafc; font-weight: 600; }
        @keyframes ticker { 0% { transform: translateX(0%); } 100% { transform: translateX(-50%); } }

        /* Tab Navigation */
        .main-nav { background: rgba(255,255,255,0.1); padding: 4px; border-radius: 8px; }
        .nav-btn { display: inline-block; padding: 0.5rem 1rem; border: none; border-radius: 6px; background: transparent; color: white; cursor: pointer; font-size: 0.875rem; font-weight: 500; transition: all 0.2s; text-decoration: none; }
        .nav-btn:hover { background: rgba(255,255,255,0.15); }
        .nav-btn.active { background: white; color: var(--primary); font-weight: 600; }
        .section { display: none; }
        .section.active { display: block; }

        /* Consistent Section Styling */
        .section h2 { color: var(--gray-900); font-size: 1.5rem; margin-bottom: 0.5rem; }
        .section > p { color: var(--gray-500); margin-bottom: 1.5rem; }

        /* Stats Grid Consistency */
        .stat-number { font-size: 2rem; font-weight: 700; color: var(--primary); }
        .stat-card .stat-number { color: var(--gray-900); }

        /* Timeline badges */
        .type-badge { padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: 600; margin-left: 8px; }
        .type-b2b { background: #dcfce7; color: #166534; }
        .type-b2g { background: #dbeafe; color: #1e40af; }
        .type-b2c { background: #fef3c7; color: #92400e; }
        .timeline-filters { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; align-items: center; }
        .timeline-filters select { padding: 0.5rem 1rem; border: 1px solid var(--gray-300); border-radius: 6px; font-size: 0.875rem; }

        /* Data Residency */
        .dr-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        .dr-table th { background: var(--gray-100); padding: 12px; text-align: left; font-size: 0.75rem; text-transform: uppercase; }
        .dr-table td { padding: 12px; border-bottom: 1px solid var(--gray-100); }
        .dr-badge { padding: 4px 10px; border-radius: 6px; font-size: 0.7rem; font-weight: 500; }
        .dr-required { background: #fef2f2; color: #dc2626; }
        .dr-conditional { background: #fffbeb; color: #b45309; }
        .dr-flexible { background: #f0fdf4; color: #16a34a; }
        .dr-eu { background: #eff6ff; color: #2563eb; }

        /* Market Players */
        .market-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        .market-table th { background: var(--gray-100); padding: 12px; text-align: left; font-size: 0.75rem; text-transform: uppercase; }
        .market-table td { padding: 12px; border-bottom: 1px solid var(--gray-100); }
        .market-share { background: rgba(59,130,246,0.1); color: #2563eb; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: 600; }
        .market-share.est { background: rgba(234,179,8,0.15); color: #92400e; }

        /* Compare Section */
        .compare-intro { text-align: center; margin-bottom: 2rem; }
        .compare-intro h2 { font-size: 1.75rem; color: var(--gray-900); margin-bottom: 0.5rem; }
        .compare-intro p { color: var(--gray-500); font-size: 1rem; }
        .compare-container { display: grid; grid-template-columns: 1fr auto 1fr; gap: 1.5rem; align-items: center; margin-bottom: 2rem; max-width: 900px; margin-left: auto; margin-right: auto; }
        .country-selector { background: white; border-radius: 12px; padding: 1.25rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border: 1px solid var(--gray-200); }
        .country-selector label { display: block; font-size: 0.7rem; font-weight: 600; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem; }
        .country-selector select { width: 100%; padding: 0.75rem 1rem; border: 2px solid var(--gray-200); border-radius: 8px; font-size: 1rem; background: white; cursor: pointer; transition: border-color 0.2s; }
        .country-selector select:hover { border-color: var(--primary); }
        .country-selector select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
        .vs-badge { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; padding: 0.75rem 1.25rem; border-radius: 9999px; font-weight: 700; font-size: 1rem; box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3); }
        .compare-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .compare-card { background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); overflow: hidden; border: 1px solid var(--gray-100); transition: transform 0.2s, box-shadow 0.2s; }
        .compare-card:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.12); }
        .compare-card-empty { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 400px; background: linear-gradient(135deg, var(--gray-50) 0%, white 100%); border: 2px dashed var(--gray-200); }
        .compare-card-empty-icon { font-size: 3rem; margin-bottom: 1rem; opacity: 0.5; }
        .compare-card-empty-text { color: var(--gray-400); font-size: 1rem; font-weight: 500; }
        .compare-card-empty-hint { color: var(--gray-400); font-size: 0.8rem; margin-top: 0.5rem; }
        .compare-header { padding: 1.5rem; color: white; text-align: center; }
        .compare-header.left { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
        .compare-header.right { background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%); }
        .compare-flag { font-size: 3rem; margin-bottom: 0.5rem; }
        .compare-name { font-size: 1.25rem; font-weight: 700; }
        .compare-section { padding: 1rem 1.5rem; border-bottom: 1px solid var(--gray-100); }
        .compare-section:last-child { border-bottom: none; }
        .compare-section h4 { font-size: 0.75rem; font-weight: 600; color: var(--gray-500); text-transform: uppercase; margin-bottom: 0.75rem; }
        .compare-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--gray-100); }
        .compare-row:last-child { border-bottom: none; }
        .compare-label { font-weight: 500; color: var(--gray-700); }
        .compare-value { text-align: right; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
        .info-item { background: var(--gray-50); padding: 0.5rem; border-radius: 6px; }
        .info-label { font-size: 0.6875rem; color: var(--gray-500); text-transform: uppercase; }
        .info-value { font-size: 0.875rem; font-weight: 500; }
        .compare-quick-picks { text-align: center; margin-top: 1.5rem; padding: 1rem; background: var(--gray-50); border-radius: 12px; }
        .compare-quick-picks-title { font-size: 0.75rem; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.75rem; }
        .compare-quick-btn { display: inline-block; padding: 0.5rem 1rem; margin: 0.25rem; background: white; border: 1px solid var(--gray-200); border-radius: 8px; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; }
        .compare-quick-btn:hover { background: var(--primary); color: white; border-color: var(--primary); }

        /* Timeline Section */
        .timeline-container { max-width: 1000px; margin: 0 auto; }
        .timeline-year { background: white; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .timeline-year h3 { font-size: 1.25rem; color: var(--primary); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .timeline-events { display: flex; flex-direction: column; gap: 0.75rem; }
        .timeline-event { display: flex; gap: 1rem; padding: 0.75rem; background: var(--gray-50); border-radius: 8px; border-left: 3px solid var(--primary); }
        .timeline-date { font-weight: 600; color: var(--gray-700); min-width: 80px; }
        .timeline-country { font-weight: 500; }
        .timeline-detail { font-size: 0.875rem; color: var(--gray-600); }

        /* Legend Section */
        .legend-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
        .legend-card { background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .legend-card h3 { font-size: 1rem; font-weight: 600; margin-bottom: 1rem; color: var(--gray-900); }
        .legend-items { display: flex; flex-direction: column; gap: 0.5rem; }
        .legend-row { display: flex; align-items: center; gap: 0.75rem; }
        .legend-row .badge { min-width: 80px; text-align: center; }

        /* Print Styles */
        @media print {
            .header, .ticker-wrap, .main-nav, .filters, .footer { display: none !important; }
            .container { padding: 0; max-width: 100%; }
            .section { display: block !important; page-break-after: always; }
            .table-container { max-height: none !important; overflow: visible !important; }
            table { font-size: 10px; }
            .badge, .model-badge { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
        }

        /* Accessibility - Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            .ticker { animation: none; }
            * { transition: none !important; }
        }

        /* Sortable headers */
        th[onclick] { cursor: pointer; user-select: none; }
        th[onclick]:hover { background: var(--gray-200); }
        .sort-icon { margin-left: 4px; opacity: 0.5; }
        th[onclick]:hover .sort-icon { opacity: 1; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Clear Global eInvoicing Mandate Tracker</h1>
        <p>Comprehensive view of B2B, B2G, and B2C eInvoicing mandates across 78 countries</p>
        <div class="header-meta">
            <span>Last Updated: <span id="last-updated"></span></span>
            <span>Data Sources: Official Tax Authorities, EY Global Tracker (Dec 2025)</span>
            <span id="country-count">78 Countries | 6 Regions</span>
        </div>
        <nav class="main-nav" style="display: flex; gap: 0.5rem; margin-top: 1rem;">
            <a href="#master" class="nav-btn active" onclick="showSection('master'); return false;">Master Table</a>
            <a href="#compare" class="nav-btn" onclick="showSection('compare'); return false;">Compare Countries</a>
            <a href="#timeline" class="nav-btn" onclick="showSection('timeline'); return false;">Timeline</a>
            <a href="#market" class="nav-btn" onclick="showSection('market'); return false;">Market Players</a>
            <a href="#residency" class="nav-btn" onclick="showSection('residency'); return false;">Data Residency</a>
            <a href="#legend" class="nav-btn" onclick="showSection('legend'); return false;">Legend</a>
        </nav>
    </div>

    <!-- TICKER -->
    <div class="ticker-wrap">
        <div class="ticker">
            <div class="ticker-item">‚ö†Ô∏è <span>DISCLAIMER:</span> Data verified as of Jan 2026. Always confirm with official tax authority sources before compliance decisions.</div>
            <div class="ticker-item">üìä <span>Sources:</span> Official Tax Authorities, EY Global E-Invoicing Tracker, IMF, VATupdate, KPMG, Basware</div>
            <div class="ticker-item">üåç <span>Coverage:</span> 90+ countries across MENA, Europe, APAC, LATAM, Africa, North America</div>
            <div class="ticker-item">‚ö†Ô∏è <span>DISCLAIMER:</span> Data verified as of Jan 2026. Always confirm with official tax authority sources before compliance decisions.</div>
        </div>
    </div>

    <div class="container">
        <!-- MASTER TABLE SECTION -->
        <div id="section-master" class="section active">
        <div class="stats-grid">
            <div class="stat-card success">
                <div class="stat-value" id="stat-mandatory">0</div>
                <div class="stat-label">Countries with B2B Mandate</div>
            </div>
            <div class="stat-card warning">
                <div class="stat-value" id="stat-upcoming">0</div>
                <div class="stat-label">Upcoming Mandates (2025-2027)</div>
            </div>
            <div class="stat-card info">
                <div class="stat-value" id="stat-voluntary">0</div>
                <div class="stat-label">Voluntary B2B</div>
            </div>
            <div class="stat-card danger">
                <div class="stat-value" id="stat-urgent">0</div>
                <div class="stat-label">High Priority (Next 12 months)</div>
            </div>
        </div>

        <div class="filters">
            <div class="filter-group">
                <label>Region</label>
                <select id="filter-region">
                    <option value="">All Regions</option>
                    <option value="MENA">MENA (13)</option>
                    <option value="Europe">Europe (27)</option>
                    <option value="APAC">Asia-Pacific (17)</option>
                    <option value="LATAM">Latin America (9)</option>
                    <option value="Africa">Africa (8)</option>
                    <option value="North America">North America (2)</option>
                </select>
            </div>
            <div class="filter-group">
                <label>B2B Status</label>
                <select id="filter-b2b">
                    <option value="">All Statuses</option>
                    <option value="Mandatory">Mandatory</option>
                    <option value="Planned">Planned/Upcoming</option>
                    <option value="Voluntary">Voluntary</option>
                    <option value="N/A">Not Applicable</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Priority</label>
                <select id="filter-priority">
                    <option value="">All</option>
                    <option value="high">High (Deadline &lt; 12 months)</option>
                    <option value="medium">Medium (Deadline 12-24 months)</option>
                    <option value="low">Low (No immediate deadline)</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Model Type</label>
                <select id="filter-model">
                    <option value="">All Models</option>
                    <option value="Clearance">Clearance</option>
                    <option value="CTC">CTC</option>
                    <option value="Peppol">Peppol</option>
                    <option value="Post-Audit">Post-Audit</option>
                </select>
            </div>
            <div class="filter-group search-input">
                <label>Search</label>
                <input type="text" id="search" placeholder="Search by country name...">
            </div>
            <div class="export-btns">
                <button class="btn btn-secondary" onclick="resetFilters()">Reset</button>
                <button class="btn btn-primary" onclick="exportCSV()">Export CSV</button>
            </div>
        </div>

        <div class="table-container">
            <div class="legend">
                <div class="legend-item">
                    <span class="badge badge-mandatory">Mandatory</span> Active mandate in force
                </div>
                <div class="legend-item">
                    <span class="badge badge-planned">Planned</span> Announced, not yet effective
                </div>
                <div class="legend-item">
                    <span class="badge badge-voluntary">Voluntary</span> Allowed but not required
                </div>
                <div class="legend-item">
                    <span class="badge badge-na">N/A</span> No announcement
                </div>
                <div class="legend-item">
                    <span class="timeline-badge">2026</span> Upcoming deadline
                </div>
            </div>
            <div class="table-wrapper">
                <table id="mandate-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable('country')">Country <span class="sort-icon">‚Üï</span></th>
                            <th onclick="sortTable('region')">Region <span class="sort-icon">‚Üï</span></th>
                            <th onclick="sortTable('gdp')">GDP ($B) <span class="sort-icon">‚Üï</span></th>
                            <th onclick="sortTable('b2b')">B2B Mandate <span class="sort-icon">‚Üï</span></th>
                            <th onclick="sortTable('b2g')">B2G Mandate <span class="sort-icon">‚Üï</span></th>
                            <th onclick="sortTable('b2c')">B2C Mandate <span class="sort-icon">‚Üï</span></th>
                            <th>Model</th>
                            <th>Key Dates</th>
                            <th>Tax Authority</th>
                            <th>Providers</th>
                            <th>Strategic Callouts</th>
                            <th>Compliance Callouts</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                    </tbody>
                </table>
            </div>
        </div>
        </div><!-- End Master Section -->

        <!-- COMPARE SECTION -->
        <div id="section-compare" class="section">
            <div class="compare-intro">
                <h2>Compare Countries</h2>
                <p>Select two countries to compare their e-invoicing mandates, compliance requirements, and strategic metrics side by side</p>
            </div>
            <div class="compare-container">
                <div class="country-selector">
                    <label>Country 1</label>
                    <select id="compare1"><option value="">Select a country...</option></select>
                </div>
                <div class="vs-badge">VS</div>
                <div class="country-selector">
                    <label>Country 2</label>
                    <select id="compare2"><option value="">Select a country...</option></select>
                </div>
            </div>
            <div class="compare-quick-picks">
                <div class="compare-quick-picks-title">Quick Comparisons</div>
                <div style="margin-bottom:0.75rem;">
                    <span style="font-size:0.7rem;color:var(--gray-400);margin-right:0.5rem;">MENA:</span>
                    <button class="compare-quick-btn" onclick="quickCompare('Saudi Arabia','UAE')">Saudi vs UAE</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Saudi Arabia','Egypt')">Saudi vs Egypt</button>
                    <button class="compare-quick-btn" onclick="quickCompare('UAE','Oman')">UAE vs Oman</button>
                </div>
                <div style="margin-bottom:0.75rem;">
                    <span style="font-size:0.7rem;color:var(--gray-400);margin-right:0.5rem;">Europe:</span>
                    <button class="compare-quick-btn" onclick="quickCompare('Germany','France')">Germany vs France</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Italy','Poland')">Italy vs Poland</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Spain','Belgium')">Spain vs Belgium</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Romania','Greece')">Romania vs Greece</button>
                </div>
                <div style="margin-bottom:0.75rem;">
                    <span style="font-size:0.7rem;color:var(--gray-400);margin-right:0.5rem;">APAC:</span>
                    <button class="compare-quick-btn" onclick="quickCompare('India','Malaysia')">India vs Malaysia</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Singapore','Australia')">Singapore vs Australia</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Indonesia','Vietnam')">Indonesia vs Vietnam</button>
                    <button class="compare-quick-btn" onclick="quickCompare('South Korea','Japan')">S. Korea vs Japan</button>
                </div>
                <div style="margin-bottom:0.75rem;">
                    <span style="font-size:0.7rem;color:var(--gray-400);margin-right:0.5rem;">LATAM:</span>
                    <button class="compare-quick-btn" onclick="quickCompare('Brazil','Mexico')">Brazil vs Mexico</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Chile','Colombia')">Chile vs Colombia</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Argentina','Peru')">Argentina vs Peru</button>
                </div>
                <div>
                    <span style="font-size:0.7rem;color:var(--gray-400);margin-right:0.5rem;">Cross-Region:</span>
                    <button class="compare-quick-btn" onclick="quickCompare('India','Saudi Arabia')">India vs Saudi</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Germany','Brazil')">Germany vs Brazil</button>
                    <button class="compare-quick-btn" onclick="quickCompare('Nigeria','Kenya')">Nigeria vs Kenya</button>
                </div>
            </div>
            <div class="compare-grid" id="compare-grid">
                <div class="compare-card compare-card-empty">
                    <div class="compare-card-empty-icon">1</div>
                    <div class="compare-card-empty-text">Select Country 1</div>
                    <div class="compare-card-empty-hint">Choose from the dropdown above</div>
                </div>
                <div class="compare-card compare-card-empty">
                    <div class="compare-card-empty-icon">2</div>
                    <div class="compare-card-empty-text">Select Country 2</div>
                    <div class="compare-card-empty-hint">Choose from the dropdown above</div>
                </div>
            </div>
        </div>

        <!-- TIMELINE SECTION -->
        <div id="section-timeline" class="section">
            <h2 style="margin-bottom:1rem">Upcoming Mandate Timeline</h2>
            <div class="timeline-filters">
                <select id="timeline-region" onchange="renderTimeline()">
                    <option value="">All Regions</option>
                    <option value="MENA">MENA</option>
                    <option value="Europe">Europe</option>
                    <option value="APAC">APAC</option>
                    <option value="LATAM">LATAM</option>
                    <option value="Africa">Africa</option>
                </select>
                <select id="timeline-type" onchange="renderTimeline()">
                    <option value="">All Types</option>
                    <option value="B2B">B2B Only</option>
                    <option value="B2G">B2G Only</option>
                    <option value="B2C">B2C Only</option>
                </select>
                <span style="color:var(--gray-500);font-size:0.85rem;" id="timeline-count"></span>
            </div>
            <div class="timeline-container" id="timeline-container"></div>
        </div>

        <!-- LEGEND SECTION -->
        <div id="section-legend" class="section">
            <div class="legend-container">
                <div class="legend-card">
                    <h3>Mandate Status</h3>
                    <div class="legend-items">
                        <div class="legend-row"><span class="badge badge-mandatory">Mandatory</span><span>Active mandate in force</span></div>
                        <div class="legend-row"><span class="badge badge-planned">Planned</span><span>Announced, not yet effective</span></div>
                        <div class="legend-row"><span class="badge badge-voluntary">Voluntary</span><span>Allowed but not required</span></div>
                        <div class="legend-row"><span class="badge badge-na">N/A</span><span>No announcement</span></div>
                    </div>
                </div>
                <div class="legend-card">
                    <h3>Model Types</h3>
                    <div class="legend-items">
                        <div class="legend-row"><span class="model-badge model-clearance">Clearance</span><span>Real-time approval before issuance</span></div>
                        <div class="legend-row"><span class="model-badge model-ctc">CTC</span><span>Continuous Transaction Controls</span></div>
                        <div class="legend-row"><span class="model-badge model-peppol">Peppol</span><span>Pan-European network</span></div>
                        <div class="legend-row"><span class="model-badge model-postaudit">Post-Audit</span><span>Reported after transaction</span></div>
                    </div>
                </div>
                <div class="legend-card">
                    <h3>Coverage Types</h3>
                    <div class="legend-items">
                        <div class="legend-row"><strong>B2B</strong><span>Business-to-Business transactions</span></div>
                        <div class="legend-row"><strong>B2G</strong><span>Business-to-Government transactions</span></div>
                        <div class="legend-row"><strong>B2C</strong><span>Business-to-Consumer transactions</span></div>
                    </div>
                </div>
                <div class="legend-card">
                    <h3>Priority Levels</h3>
                    <div class="legend-items">
                        <div class="legend-row"><span class="urgency-high">High</span><span>Deadline within 12 months</span></div>
                        <div class="legend-row"><span class="urgency-medium">Medium</span><span>Deadline 12-24 months</span></div>
                        <div class="legend-row"><span style="color:var(--success)">Low</span><span>No immediate deadline</span></div>
                    </div>
                </div>
                <div class="legend-card" style="grid-column: span 2;">
                    <h3>Data Sources & References</h3>
                    <div class="legend-items" style="font-size:0.8rem; color:var(--gray-600);">
                        <p style="margin-bottom:0.75rem;"><strong>Primary Sources:</strong></p>
                        <ul style="margin:0 0 0.75rem 1.25rem; line-height:1.6;">
                            <li><a href="https://www.ey.com/en_gl/technical/tax-guides/e-invoicing-developments-tracker" target="_blank" style="color:var(--primary);">EY Global E-invoicing Developments Tracker</a> (December 2025) - Country mandates, dates, and compliance status</li>
                            <li>Official Tax Authority Portals - ZATCA (Saudi Arabia), FTA (UAE), Agenzia delle Entrate (Italy), DGFiP (France), etc.</li>
                            <li>European Commission - ViDA (VAT in the Digital Age) proposals and updates</li>
                            <li>Peppol Authority - Network adoption and country implementations</li>
                        </ul>
                        <p style="margin-bottom:0.75rem;"><strong>Industry Reports:</strong></p>
                        <ul style="margin:0 0 0.75rem 1.25rem; line-height:1.6;">
                            <li>Billentis - World E-Invoicing Report</li>
                            <li>Gartner - Magic Quadrant for Procure-to-Pay Suites</li>
                            <li>IDC - European E-Invoicing Market Analysis</li>
                            <li>KPMG, Deloitte, PwC - Regional tax compliance guides</li>
                        </ul>
                        <p style="margin-bottom:0.75rem;"><strong>Government Publications:</strong></p>
                        <ul style="margin:0 0 0.75rem 1.25rem; line-height:1.6;">
                            <li>National gazette publications and official mandate announcements</li>
                            <li>Ministry of Finance / Revenue Authority press releases</li>
                            <li>EU Official Journal - Directive 2014/55/EU and amendments</li>
                        </ul>
                        <p style="font-style:italic; margin-top:0.75rem; padding-top:0.75rem; border-top:1px solid var(--gray-200);">
                            <strong>Disclaimer:</strong> This tracker is for informational purposes only. Data is updated regularly but may not reflect the most recent changes. Always verify with official government sources before making compliance decisions. Last updated: January 2026.
                        </p>
                    </div>
                </div>
                <div class="legend-card">
                    <h3>Regions Covered</h3>
                    <div class="legend-items">
                        <div class="legend-row"><span style="color:#f59e0b">‚óè</span><span>MENA - 13 countries</span></div>
                        <div class="legend-row"><span style="color:#3b82f6">‚óè</span><span>Europe - 27 countries</span></div>
                        <div class="legend-row"><span style="color:#10b981">‚óè</span><span>APAC - 17 countries</span></div>
                        <div class="legend-row"><span style="color:#8b5cf6">‚óè</span><span>LATAM - 9 countries</span></div>
                        <div class="legend-row"><span style="color:#ef4444">‚óè</span><span>Africa - 8 countries</span></div>
                        <div class="legend-row"><span style="color:#6b7280">‚óè</span><span>North America - 2 countries</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section: Market Players -->
        <div id="section-market" class="section">
            <style>
                .market-section { font-size: 14px; }
                .market-section .ms-card { background: white; border-radius: 16px; padding: 25px; margin-bottom: 25px; border: 1px solid rgba(226,232,240,0.8); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
                .market-section .ms-title { font-size: 1.2rem; margin-bottom: 15px; color: #1e293b; font-weight: 600; }
                .market-section .market-share { display: inline-block; padding: 4px 10px; border-radius: 50px; font-size: 12px; font-weight: 600; background: rgba(59,130,246,0.1); color: #2563eb; }
                .market-section .market-share.est { background: rgba(234,179,8,0.15); color: #92400e; }
                .market-section .model-badge { display: inline-block; padding: 5px 12px; border-radius: 50px; font-size: 12px; font-weight: 600; }
                .market-section .clearance { background: rgba(252,165,165,0.35); color: #dc2626; }
                .market-section .post-audit { background: rgba(134,239,172,0.35); color: #15803d; }
                .market-section .hybrid { background: rgba(196,181,253,0.35); color: #7c3aed; }
                .market-section .pending-model { background: rgba(253,224,71,0.35); color: #a16207; }
                .market-section .gdp { color: #15803d; font-weight: 600; }
                .market-section .volume { color: #7c3aed; font-weight: 600; }
                .market-section .revenue { color: #15803d; font-weight: 600; }
                .market-section .feature-tag { display: inline-block; padding: 4px 8px; border-radius: 6px; font-size: 11px; margin: 2px; font-weight: 600; }
                .market-section .f-einvoice { background: rgba(59,130,246,0.15); color: #2563eb; }
                .market-section .f-ap { background: rgba(34,197,94,0.15); color: #16a34a; }
                .market-section .f-scf { background: rgba(168,85,247,0.15); color: #9333ea; }
                .market-section .f-tax { background: rgba(234,179,8,0.15); color: #a16207; }
                .market-section .f-edi { background: rgba(239,68,68,0.15); color: #dc2626; }
                .market-section .f-erp { background: rgba(59,130,246,0.15); color: #2563eb; }
                .market-section .f-archive { background: rgba(100,116,139,0.15); color: #475569; }
                .market-section .pct-text { font-size: 13px; color: #475569; font-weight: 500; }
                .market-section .usp-list, .market-section .ai-list { margin: 0; padding-left: 16px; font-size: 13px; color: #334155; line-height: 1.5; }
                .market-section .usp-list li, .market-section .ai-list li { margin-bottom: 3px; }
                .market-section .player-link { color: #1e293b; text-decoration: none; font-weight: 600; border-bottom: 1px dashed #94a3b8; }
                .market-section .player-link:hover { color: #2563eb; border-bottom-color: #2563eb; }
                .market-section .country-cell { font-weight: 600; display: flex; align-items: center; gap: 8px; white-space: nowrap; }
                .market-section .flag { font-size: 18px; }
                .market-section .note { background: rgba(234,179,8,0.08); border: 1px solid rgba(234,179,8,0.25); border-radius: 10px; padding: 16px; font-size: 14px; color: #92400e; margin-top: 15px; }
                .market-section .note strong { display: block; margin-bottom: 6px; color: #78350f; }
                .market-section tr.highlight { background: rgba(59,130,246,0.04); }
                .market-section tr.highlight:hover { background: rgba(59,130,246,0.08); }
                .market-section .legend { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 15px; font-size: 14px; color: #475569; }
                .market-section .legend-item { display: flex; align-items: center; gap: 6px; }
                .market-section .legend-dot { width: 10px; height: 10px; border-radius: 50%; }
                .market-section .feature-legend { display: flex; gap: 20px; flex-wrap: wrap; font-size: 14px; }
                .market-section .feature-legend > div { display: flex; align-items: center; gap: 8px; color: #475569; }
                .market-section .player-cell { font-weight: 500; color: #1e293b; }
            </style>
            <div class="market-section">
                <h2>ME + EU Market Analysis</h2>
                <p style="color:#64748b; margin-bottom:20px;">Top Players, Market Share & Features | 8 Key Markets</p>

                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-number">8</div><div class="stat-label">Markets Analyzed</div></div>
                    <div class="stat-card"><div class="stat-number">27</div><div class="stat-label">Country Players</div></div>
                    <div class="stat-card"><div class="stat-number">11</div><div class="stat-label">Global Vendors</div></div>
                    <div class="stat-card"><div class="stat-number">$18T+</div><div class="stat-label">Combined GDP</div></div>
                </div>

                <!-- Disclaimer -->
                <div class="note" style="margin-bottom:20px;">
                    <strong>Data Disclaimer:</strong> Market share data is estimated based on analyst reports, press releases, and industry research. Revenue figures are estimates for e-invoicing/compliance revenue in each specific country, not global revenue.
                </div>

                <!-- Table 1: Top Players by Country -->
                <div class="ms-card">
                    <h3 class="ms-title">Top Players by Country</h3>
                    <div class="legend">
                        <div class="legend-item"><span class="legend-dot" style="background:#2563eb"></span> Confirmed</div>
                        <div class="legend-item"><span class="legend-dot" style="background:#eab308"></span> Estimated (est.)</div>
                    </div>
                    <div class="table-container" style="max-height:none;">
                    <table style="min-width:900px;">
                        <thead><tr><th>Country</th><th>Top Player #1</th><th>Top Player #2</th><th>Top Player #3</th><th>Special</th><th>Model</th><th>GDP</th><th>E-Invoices</th></tr></thead>
                        <tbody>
                            <tr><td><div class="country-cell"><span class="flag">&#127462;&#127466;</span> UAE</div></td><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a> <span class="market-share est">~35%</span></td><td class="player-cell"><a href="https://www.oracle.com" target="_blank" class="player-link">Oracle</a> <span class="market-share est">~20%</span></td><td class="player-cell"><a href="https://www.zoho.com" target="_blank" class="player-link">Zoho</a> <span class="market-share est">~15%</span></td><td class="player-cell"><a href="https://cygnettaxtech.com" target="_blank" class="player-link"><strong>Cygnet</strong></a> <span class="market-share est">~5%</span></td><td><span class="model-badge pending-model">Clearance (pending)</span></td><td class="gdp">$481B</td><td class="volume">~350M</td></tr>
                            <tr><td><div class="country-cell"><span class="flag">&#127480;&#127462;</span> Saudi</div></td><td class="player-cell"><a href="https://cleartax.com" target="_blank" class="player-link">ClearTax</a> <span class="market-share est">~30%</span></td><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a> <span class="market-share est">~20%</span></td><td class="player-cell"><a href="https://tallysolutions.com" target="_blank" class="player-link">Tally</a> <span class="market-share est">~15%</span></td><td class="player-cell"><a href="https://cygnettaxtech.com" target="_blank" class="player-link"><strong>Cygnet</strong></a> <span class="market-share est">~8%</span></td><td><span class="model-badge clearance">FATOORA</span></td><td class="gdp">$1,067B</td><td class="volume">~800M</td></tr>
                            <tr><td><div class="country-cell"><span class="flag">&#127465;&#127466;</span> Germany</div></td><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a> <span class="market-share est">~40%</span></td><td class="player-cell"><a href="https://www.datev.de" target="_blank" class="player-link">DATEV</a> <span class="market-share est">~25%</span></td><td class="player-cell"><a href="https://www.basware.com" target="_blank" class="player-link">Basware</a> <span class="market-share est">~8%</span></td><td>-</td><td><span class="model-badge post-audit">EN 16931</span></td><td class="gdp">$4,456B</td><td class="volume">~5B</td></tr>
                            <tr><td><div class="country-cell"><span class="flag">&#127467;&#127479;</span> France</div></td><td class="player-cell"><a href="https://www.pagero.com" target="_blank" class="player-link">Pagero</a> <span class="market-share">1st PA</span></td><td class="player-cell"><a href="https://sovos.com" target="_blank" class="player-link">Sovos</a> <span class="market-share">PA #4</span></td><td class="player-cell"><a href="https://www.esker.com" target="_blank" class="player-link">Esker</a> <span class="market-share">PDP #5</span></td><td>-</td><td><span class="model-badge hybrid">PPF+PDP</span></td><td class="gdp">$3,130B</td><td class="volume">~2.5B</td></tr>
                            <tr><td><div class="country-cell"><span class="flag">&#127470;&#127481;</span> Italy</div></td><td class="player-cell"><a href="https://www.teamsystem.com" target="_blank" class="player-link">TeamSystem</a> <span class="market-share est">~25%</span></td><td class="player-cell"><a href="https://www.aruba.it" target="_blank" class="player-link">Aruba</a> <span class="market-share est">~20%</span></td><td class="player-cell"><a href="https://edicomgroup.com" target="_blank" class="player-link">EDICOM</a> <span class="market-share est">~10%</span></td><td>-</td><td><span class="model-badge clearance">SdI</span></td><td class="gdp">$2,254B</td><td class="volume">3.4B</td></tr>
                            <tr><td><div class="country-cell"><span class="flag">&#127477;&#127473;</span> Poland</div></td><td class="player-cell"><a href="https://www.comarch.com" target="_blank" class="player-link">Comarch</a> <span class="market-share est">~35%</span></td><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a> <span class="market-share est">~15%</span></td><td class="player-cell"><a href="https://www.symfonia.pl" target="_blank" class="player-link">Symfonia</a> <span class="market-share est">~12%</span></td><td>-</td><td><span class="model-badge clearance">KSeF</span></td><td class="gdp">$842B</td><td class="volume">~2.5B</td></tr>
                            <tr><td><div class="country-cell"><span class="flag">&#127466;&#127480;</span> Spain</div></td><td class="player-cell"><a href="https://edicomgroup.com" target="_blank" class="player-link">EDICOM</a> <span class="market-share est">~30%</span></td><td class="player-cell"><a href="https://www.sage.com" target="_blank" class="player-link">Sage</a> <span class="market-share est">~18%</span></td><td class="player-cell"><a href="https://www.holded.com" target="_blank" class="player-link">Holded</a> <span class="market-share est">~10%</span></td><td>-</td><td><span class="model-badge hybrid">Verifactu</span></td><td class="gdp">$1,580B</td><td class="volume">~600M</td></tr>
                            <tr class="highlight"><td><div class="country-cell"><span class="flag">&#127470;&#127475;</span> India</div></td><td class="player-cell"><a href="https://cleartax.in" target="_blank" class="player-link">ClearTax</a> <span class="market-share est">~35%</span></td><td class="player-cell"><a href="https://tallysolutions.com" target="_blank" class="player-link">Tally</a> <span class="market-share est">~25%</span></td><td class="player-cell"><a href="https://www.zoho.com" target="_blank" class="player-link">Zoho</a> <span class="market-share est">~12%</span></td><td class="player-cell"><a href="https://cygnettaxtech.com" target="_blank" class="player-link"><strong>Cygnet</strong></a> <span class="market-share est">~10%</span></td><td><span class="model-badge clearance">GST IRP</span></td><td class="gdp">$3,730B</td><td class="volume">~8B</td></tr>
                        </tbody>
                    </table>
                    </div>
                </div>

                <!-- Table 2: Player Features & Revenue Breakdown -->
                <div class="ms-card">
                    <h3 class="ms-title">Player Features & Revenue Breakdown</h3>
                    <p style="color:#64748b; font-size:13px; margin-bottom:15px;">Detailed view of players. Revenue = estimated e-invoicing/compliance revenue in that country only.</p>
                    <div style="display:flex; align-items:center; gap:8px; margin-bottom:10px; padding:8px 12px; background:rgba(59,130,246,0.08); border-radius:8px; font-size:13px; color:#2563eb;">
                        <span style="font-size:16px;">&#8597;</span> Scroll to see all data
                    </div>
                    <div class="table-container" style="max-height:100vh; overflow-y:auto;">
                    <table style="min-width:1400px;">
                        <thead>
                            <tr>
                                <th style="min-width:70px;">Country</th>
                                <th style="min-width:80px;">Player</th>
                                <th style="min-width:50px;">Type</th>
                                <th style="min-width:60px;">Mkt %</th>
                                <th style="min-width:60px;">Rev</th>
                                <th style="min-width:200px;">Features</th>
                                <th style="background:#dbeafe;min-width:50px;">E-Inv%</th>
                                <th style="background:#dbeafe;min-width:55px;">AP/AR%</th>
                                <th style="background:#dbeafe;min-width:45px;">Tax%</th>
                                <th style="background:#dbeafe;min-width:45px;">EDI%</th>
                                <th style="background:#dbeafe;min-width:55px;">Other%</th>
                                <th style="min-width:200px;">USP</th>
                                <th style="min-width:200px;">AI Features</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- UAE -->
                            <tr><td rowspan="4"><div class="country-cell"><span class="flag">&#127462;&#127466;</span> UAE</div></td><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a></td><td>Top 1</td><td><span class="market-share est">~35%</span></td><td class="revenue">~$7M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">ERP</span><span class="feature-tag f-ap">AP/AR</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~20%</td><td class="pct-text">~25%</td><td class="pct-text">~25%</td><td class="pct-text">~25%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Native S/4HANA integration</li><li>80+ country compliance</li></ul></td><td><ul class="ai-list"><li>SAP DRC with Business AI</li><li>Real-time regulation updates</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.oracle.com" target="_blank" class="player-link">Oracle</a></td><td>Top 2</td><td><span class="market-share est">~20%</span></td><td class="revenue">~$4M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">Cloud ERP</span><span class="feature-tag f-ap">AP/AR</span></td><td class="pct-text">~25%</td><td class="pct-text">~35%</td><td class="pct-text">~20%</td><td class="pct-text">~15%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Full cloud ERP suite</li><li>NetSuite for SMB</li></ul></td><td><ul class="ai-list"><li>AI-powered matching</li><li>Anomaly detection</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.zoho.com" target="_blank" class="player-link">Zoho</a></td><td>Top 3</td><td><span class="market-share est">~15%</span></td><td class="revenue">~$3M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">Accounting</span><span class="feature-tag f-tax">VAT Filing</span></td><td class="pct-text">~40%</td><td class="pct-text">~20%</td><td class="pct-text">~30%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>SMB-friendly pricing</li><li>All-in-one suite (60+ apps)</li></ul></td><td><ul class="ai-list"><li>Zia AI assistant</li><li>Auto invoice generation</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://cygnettaxtech.com" target="_blank" class="player-link">Cygnet</a></td><td>Special</td><td><span class="market-share est">~5%</span></td><td class="revenue">~$1M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">VAT Filing</span><span class="feature-tag f-erp">ERP Int.</span></td><td class="pct-text">~50%</td><td class="pct-text">~10%</td><td class="pct-text">~35%</td><td class="pct-text">~5%</td><td class="pct-text">~0%</td><td><ul class="usp-list"><li>250+ ERP connectors</li><li>India/ME tax expertise</li></ul></td><td><ul class="ai-list"><li>AI-led validation</li><li>Auto notice reply drafts</li></ul></td></tr>
                            <!-- Saudi -->
                            <tr class="highlight"><td rowspan="4"><div class="country-cell"><span class="flag">&#127480;&#127462;</span> Saudi</div></td><td class="player-cell"><a href="https://cleartax.com" target="_blank" class="player-link">ClearTax</a></td><td>Top 1</td><td><span class="market-share est">~30%</span></td><td class="revenue">~$12M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">VAT Filing</span><span class="feature-tag f-erp">ERP Int.</span></td><td class="pct-text">~45%</td><td class="pct-text">~10%</td><td class="pct-text">~40%</td><td class="pct-text">~5%</td><td class="pct-text">~0%</td><td><ul class="usp-list"><li>Early ZATCA mover</li><li>50+ country coverage</li></ul></td><td><ul class="ai-list"><li>High-volume validation (6K inv/min)</li><li>Smart error detection</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a></td><td>Top 2</td><td><span class="market-share est">~20%</span></td><td class="revenue">~$8M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">ERP</span><span class="feature-tag f-ap">AP/AR</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~20%</td><td class="pct-text">~25%</td><td class="pct-text">~20%</td><td class="pct-text">~25%</td><td class="pct-text">~10%</td><td><ul class="usp-list"><li>Enterprise standard</li><li>Native S/4HANA</li></ul></td><td><ul class="ai-list"><li>SAP DRC compliance AI</li><li>Auto format mapping</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://tallysolutions.com" target="_blank" class="player-link">Tally</a></td><td>Top 3</td><td><span class="market-share est">~15%</span></td><td class="revenue">~$6M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">Accounting</span><span class="feature-tag f-tax">VAT Filing</span></td><td class="pct-text">~50%</td><td class="pct-text">~10%</td><td class="pct-text">~35%</td><td class="pct-text">~5%</td><td class="pct-text">~0%</td><td><ul class="usp-list"><li>SMB leader</li><li>Low-cost perpetual license</li></ul></td><td><ul class="ai-list"><li>AI data extraction</li><li>Smart coding</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://cygnettaxtech.com" target="_blank" class="player-link">Cygnet</a></td><td>Special</td><td><span class="market-share est">~8%</span></td><td class="revenue">~$3M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">ZATCA</span><span class="feature-tag f-erp">ERP Int.</span></td><td class="pct-text">~55%</td><td class="pct-text">~5%</td><td class="pct-text">~35%</td><td class="pct-text">~5%</td><td class="pct-text">~0%</td><td><ul class="usp-list"><li>ZATCA accredited</li><li>Multi-IRP fallback</li></ul></td><td><ul class="ai-list"><li>AI validation (400+ checks)</li><li>Auto notice drafts</li></ul></td></tr>
                            <!-- Germany -->
                            <tr><td rowspan="3"><div class="country-cell"><span class="flag">&#127465;&#127466;</span> Germany</div></td><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a></td><td>Top 1</td><td><span class="market-share est">~40%</span></td><td class="revenue">~$80M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">ERP</span><span class="feature-tag f-ap">AP/AR</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~15%</td><td class="pct-text">~25%</td><td class="pct-text">~20%</td><td class="pct-text">~30%</td><td class="pct-text">~10%</td><td><ul class="usp-list"><li>German HQ</li><li>XRechnung/ZUGFeRD native</li></ul></td><td><ul class="ai-list"><li>SAP DRC + Business AI</li><li>Peppol auto-connect</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.datev.de" target="_blank" class="player-link">DATEV</a></td><td>Top 2</td><td><span class="market-share est">~25%</span></td><td class="revenue">~$50M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">Tax Advisory</span><span class="feature-tag f-erp">Accounting</span></td><td class="pct-text">~25%</td><td class="pct-text">~15%</td><td class="pct-text">~45%</td><td class="pct-text">~10%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Tax advisor ecosystem (40K+ firms)</li><li>German-only focus</li></ul></td><td><ul class="ai-list"><li>Smart document classification</li><li>Auto-booking suggestions</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.basware.com" target="_blank" class="player-link">Basware</a></td><td>Top 3</td><td><span class="market-share est">~8%</span></td><td class="revenue">~$16M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-ap">AP Automation</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~25%</td><td class="pct-text">~55%</td><td class="pct-text">~5%</td><td class="pct-text">~10%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>AP-focused leader</li><li>90%+ touchless rate</li></ul></td><td><ul class="ai-list"><li>InvoiceAI (2.2B invoice dataset)</li><li>SmartCoding ML</li></ul></td></tr>
                            <!-- France -->
                            <tr class="highlight"><td rowspan="3"><div class="country-cell"><span class="flag">&#127467;&#127479;</span> France</div></td><td class="player-cell"><a href="https://www.pagero.com" target="_blank" class="player-link">Pagero</a></td><td>Top 1</td><td><span class="market-share">1st PA</span></td><td class="revenue">~$20M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-ap">AP/AR</span><span class="feature-tag f-edi">Network Hub</span></td><td class="pct-text">~50%</td><td class="pct-text">~30%</td><td class="pct-text">~10%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>1st French PA certified</li><li>14M+ business network</li></ul></td><td><ul class="ai-list"><li>ML predictive analytics</li><li>GenAI for 95% tax automation</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://sovos.com" target="_blank" class="player-link">Sovos</a></td><td>Top 2</td><td><span class="market-share">PA #4</span></td><td class="revenue">~$18M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">Tax Compliance</span><span class="feature-tag f-archive">E-Archive</span></td><td class="pct-text">~35%</td><td class="pct-text">~5%</td><td class="pct-text">~50%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Global tax leader (16B+ txns/yr)</li><li>65+ countries</li></ul></td><td><ul class="ai-list"><li>Sovi AI: Duplicate detection</li><li>Auto-reconciliation</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://www.esker.com" target="_blank" class="player-link">Esker</a></td><td>Top 3</td><td><span class="market-share">PDP #5</span></td><td class="revenue">~$25M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-ap">AP/AR Automation</span><span class="feature-tag f-erp">ERP Int.</span></td><td class="pct-text">~30%</td><td class="pct-text">~55%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>French HQ (Lyon)</li><li>PDP #0005</li><li>Gartner AP Leader</li></ul></td><td><ul class="ai-list"><li>Synergy AI: Deep learning</li><li>Anomaly detection</li></ul></td></tr>
                            <!-- Italy -->
                            <tr><td rowspan="3"><div class="country-cell"><span class="flag">&#127470;&#127481;</span> Italy</div></td><td class="player-cell"><a href="https://www.teamsystem.com" target="_blank" class="player-link">TeamSystem</a></td><td>Top 1</td><td><span class="market-share est">~25%</span></td><td class="revenue">~$63M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">ERP Suite</span><span class="feature-tag f-tax">Payroll</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~20%</td><td class="pct-text">~10%</td><td class="pct-text">~25%</td><td class="pct-text">~35%</td><td class="pct-text">~10%</td><td><ul class="usp-list"><li>Italian market leader</li><li>Full SMB/accountant suite</li></ul></td><td><ul class="ai-list"><li>AI document extraction</li><li>Auto-coding suggestions</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.aruba.it" target="_blank" class="player-link">Aruba</a></td><td>Top 2</td><td><span class="market-share est">~20%</span></td><td class="revenue">~$50M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-archive">PEC</span><span class="feature-tag f-erp">Cloud Hosting</span></td><td class="pct-text">~60%</td><td class="pct-text">~10%</td><td class="pct-text">~15%</td><td class="pct-text">~10%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>PEC market leader</li><li>Bundled hosting + e-invoice</li></ul></td><td><ul class="ai-list"><li>Basic automation</li><li>Limited AI features</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://edicomgroup.com" target="_blank" class="player-link">EDICOM</a></td><td>Top 3</td><td><span class="market-share est">~10%</span></td><td class="revenue">~$25M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-edi">EDI</span><span class="feature-tag f-archive">E-Signature</span></td><td class="pct-text">~30%</td><td class="pct-text">~15%</td><td class="pct-text">~15%</td><td class="pct-text">~35%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>EDI specialist</li><li>Multi-standard support</li></ul></td><td><ul class="ai-list"><li>OCR + NLP extraction</li><li>Fraud detection ML</li></ul></td></tr>
                            <!-- Poland -->
                            <tr class="highlight"><td rowspan="3"><div class="country-cell"><span class="flag">&#127477;&#127473;</span> Poland</div></td><td class="player-cell"><a href="https://www.comarch.com" target="_blank" class="player-link">Comarch</a></td><td>Top 1</td><td><span class="market-share est">~35%</span></td><td class="revenue">~$25M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-edi">EDI</span><span class="feature-tag f-erp">ERP</span></td><td class="pct-text">~25%</td><td class="pct-text">~15%</td><td class="pct-text">~10%</td><td class="pct-text">~40%</td><td class="pct-text">~10%</td><td><ul class="usp-list"><li>Polish HQ</li><li>Native KSeF integration</li><li>IDC Leader</li></ul></td><td><ul class="ai-list"><li>AI invoice analysis</li><li>ML fraud detection</li><li>GenAI chatbots</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://www.sap.com" target="_blank" class="player-link">SAP</a></td><td>Top 2</td><td><span class="market-share est">~15%</span></td><td class="revenue">~$11M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">ERP</span><span class="feature-tag f-ap">AP/AR</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~20%</td><td class="pct-text">~25%</td><td class="pct-text">~20%</td><td class="pct-text">~25%</td><td class="pct-text">~10%</td><td><ul class="usp-list"><li>Enterprise standard</li><li>KSeF via SAP DRC</li></ul></td><td><ul class="ai-list"><li>SAP Business AI</li><li>Auto regulation updates</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://www.symfonia.pl" target="_blank" class="player-link">Symfonia</a></td><td>Top 3</td><td><span class="market-share est">~12%</span></td><td class="revenue">~$8M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">Accounting</span><span class="feature-tag f-erp">ERP</span></td><td class="pct-text">~35%</td><td class="pct-text">~10%</td><td class="pct-text">~40%</td><td class="pct-text">~10%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Polish SMB focus</li><li>Accountant-friendly UI</li></ul></td><td><ul class="ai-list"><li>Basic automation</li><li>Limited AI</li></ul></td></tr>
                            <!-- Spain -->
                            <tr><td rowspan="3"><div class="country-cell"><span class="flag">&#127466;&#127480;</span> Spain</div></td><td class="player-cell"><a href="https://edicomgroup.com" target="_blank" class="player-link">EDICOM</a></td><td>Top 1</td><td><span class="market-share est">~30%</span></td><td class="revenue">~$27M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">Tax Reporting</span><span class="feature-tag f-edi">EDI</span></td><td class="pct-text">~30%</td><td class="pct-text">~15%</td><td class="pct-text">~15%</td><td class="pct-text">~35%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Spanish HQ</li><li>VeriFactu-ready</li><li>30yr EDI expertise</li></ul></td><td><ul class="ai-list"><li>OCR/NLP extraction</li><li>Smart routing ML</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.sage.com" target="_blank" class="player-link">Sage</a></td><td>Top 2</td><td><span class="market-share est">~18%</span></td><td class="revenue">~$16M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">ERP</span><span class="feature-tag f-ap">AP/AR</span><span class="feature-tag f-tax">Accounting</span></td><td class="pct-text">~25%</td><td class="pct-text">~20%</td><td class="pct-text">~35%</td><td class="pct-text">~15%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Global SMB brand</li><li>Strong accountant channel</li></ul></td><td><ul class="ai-list"><li>Sage Copilot AI</li><li>Auto bank reconciliation</li></ul></td></tr>
                            <tr><td class="player-cell"><a href="https://www.holded.com" target="_blank" class="player-link">Holded</a></td><td>Top 3</td><td><span class="market-share est">~10%</span></td><td class="revenue">~$9M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">Cloud ERP</span><span class="feature-tag f-tax">Accounting</span></td><td class="pct-text">~50%</td><td class="pct-text">~15%</td><td class="pct-text">~25%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Spanish startup</li><li>Modern UX</li><li>SMB-focused</li></ul></td><td><ul class="ai-list"><li>Smart categorization</li><li>Bank sync automation</li></ul></td></tr>
                            <!-- India -->
                            <tr class="highlight"><td rowspan="4"><div class="country-cell"><span class="flag">&#127470;&#127475;</span> India</div></td><td class="player-cell"><a href="https://cleartax.in" target="_blank" class="player-link">ClearTax</a></td><td>Top 1</td><td><span class="market-share est">~35%</span></td><td class="revenue">~$10M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">GST Filing</span><span class="feature-tag f-erp">ERP Int.</span></td><td class="pct-text">~35%</td><td class="pct-text">~15%</td><td class="pct-text">~45%</td><td class="pct-text">~5%</td><td class="pct-text">~0%</td><td><ul class="usp-list"><li>India's #1 tax platform</li><li>5K+ enterprises</li></ul></td><td><ul class="ai-list"><li>High-volume validation (6K inv/min)</li><li>4% avg tax savings claim</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://tallysolutions.com" target="_blank" class="player-link">Tally</a></td><td>Top 2</td><td><span class="market-share est">~25%</span></td><td class="revenue">~$8M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">Accounting</span><span class="feature-tag f-tax">GST Filing</span></td><td class="pct-text">~30%</td><td class="pct-text">~20%</td><td class="pct-text">~40%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>2M+ licenses</li><li>Offline-capable</li><li>SMB standard</li></ul></td><td><ul class="ai-list"><li>AI data extraction</li><li>Smart doc classification</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://www.zoho.com" target="_blank" class="player-link">Zoho</a></td><td>Top 3</td><td><span class="market-share est">~12%</span></td><td class="revenue">~$4M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-erp">Zoho Books</span><span class="feature-tag f-tax">GST Filing</span></td><td class="pct-text">~35%</td><td class="pct-text">~25%</td><td class="pct-text">~30%</td><td class="pct-text">~5%</td><td class="pct-text">~5%</td><td><ul class="usp-list"><li>Indian HQ</li><li>60+ app ecosystem</li><li>Global reach</li></ul></td><td><ul class="ai-list"><li>Zia AI assistant</li><li>Prompt-to-invoice</li></ul></td></tr>
                            <tr class="highlight"><td class="player-cell"><a href="https://cygnettaxtech.com" target="_blank" class="player-link">Cygnet</a></td><td>Special</td><td><span class="market-share est">~10%</span></td><td class="revenue">~$3M</td><td><span class="feature-tag f-einvoice">E-Invoicing</span><span class="feature-tag f-tax">GST Filing</span><span class="feature-tag f-erp">ERP Int.</span></td><td class="pct-text">~40%</td><td class="pct-text">~10%</td><td class="pct-text">~45%</td><td class="pct-text">~5%</td><td class="pct-text">~0%</td><td><ul class="usp-list"><li>25% of India's e-invoice traffic</li><li>250+ ERP connectors</li></ul></td><td><ul class="ai-list"><li>AI-led validation</li><li>3-way reconciliation</li></ul></td></tr>
                        </tbody>
                    </table>
                    </div>
                </div>

                <!-- Table 3: Global Players - Detailed Product Offerings -->
                <div class="ms-card">
                    <h3 class="ms-title">Top 5 Global E-Invoicing Players - Detailed Product Offerings</h3>
                    <p style="color:#64748b; font-size:14px; margin-bottom:15px;">Comprehensive breakdown of products, modules, AI features, and capabilities for the leading global e-invoicing vendors</p>
                    <div style="display:flex; align-items:center; gap:8px; margin-bottom:10px; padding:8px 12px; background:rgba(34,197,94,0.08); border-radius:8px; font-size:13px; color:#16a34a;">
                        <span style="font-size:16px;">&#127758;</span> Global vendor analysis - detailed product modules | Scroll horizontally for full view
                    </div>
                    <div class="table-container" style="max-height:100vh; overflow-y:auto;">
                    <table class="fixed-layout" style="min-width:1400px; width:1400px;">
                        <colgroup>
                            <col style="width:100px;">
                            <col style="width:380px;">
                            <col style="width:320px;">
                            <col style="width:180px;">
                            <col style="width:140px;">
                            <col style="width:180px;">
                        </colgroup>
                        <thead>
                            <tr>
                                <th>Vendor</th>
                                <th>Products & Features</th>
                                <th>AI Capabilities</th>
                                <th>Integrations</th>
                                <th>Scale</th>
                                <th>Differentiators</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Sovos -->
                            <tr>
                                <td class="player-cell"><a href="https://sovos.com" target="_blank" class="player-link">Sovos</a><br><small style="color:#64748b;">Est. 1979</small></td>
                                <td>
                                    <div style="margin-bottom:8px;"><strong style="color:#2563eb;">Tax Compliance Cloud</strong></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>Indirect Tax Suite</strong><br>‚Üí VAT, Sales Tax, Use Tax, Insurance Premium Tax calculation. Real-time rate determination across 14K+ jurisdictions.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>Compliance Network</strong><br>‚Üí B2B e-invoicing, B2C e-receipts, CTC real-time reporting to 60+ tax authorities. Peppol/UBL format support.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>E-Archive</strong><br>‚Üí Legal archiving with country-specific retention rules. Tamper-proof storage, audit-ready exports.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>VAT/Sales Tax Filing</strong><br>‚Üí Automated periodic returns and SAF-T generation. Pre-submission validation catches errors.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>Exemption Certificates</strong><br>‚Üí Certificate collection, validation, and renewal tracking for tax-exempt transactions.</div>
                                </td>
                                <td>
                                    <div style="margin-bottom:6px;"><span class="feature-tag f-tax">Sovi AI</span></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Mirror Visibility‚Ñ¢</strong><br>‚Üí See exactly what tax authorities see in your filings. Compare your internal view vs their view to catch discrepancies before audits.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Duplicate Detection</strong><br>‚Üí AI scans invoices across all connected systems to identify duplicates. Prevents double-payments even when invoice numbers differ slightly.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Conversational Analytics</strong><br>‚Üí Ask tax questions in plain English ("What's our VAT exposure in Germany?"). Get instant answers with drill-down to source documents.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Anomaly Detection</strong><br>‚Üí Real-time monitoring flags suspicious patterns: unusual amounts, missing fields, non-compliant formats. Alerts before submission.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Auto Tax Classification</strong><br>‚Üí ML reads product descriptions and assigns correct tax codes automatically. Learns from corrections to improve accuracy over time.</div>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li><strong>SAP Certified</strong></li>
                                        <li>Peppol Access Point</li>
                                        <li>France PDP certified</li>
                                        <li>200+ ERP connectors</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li><strong>16B+ txns/yr</strong></li>
                                        <li>60+ countries</li>
                                        <li>100K+ customers</li>
                                        <li>50% Fortune 500</li>
                                        <li>ISO 27001, SOC 2</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>1st AI-powered tax compliance</li>
                                        <li>Complete VAT + Sales Tax + E-Invoice</li>
                                        <li>Embedded AI (not standalone)</li>
                                    </ul>
                                </td>
                            </tr>
                            <!-- Pagero -->
                            <tr class="highlight">
                                <td class="player-cell"><a href="https://www.pagero.com" target="_blank" class="player-link">Pagero</a><br><small style="color:#64748b;">Thomson Reuters<br>Est. 2007</small></td>
                                <td>
                                    <div style="margin-bottom:8px;"><strong style="color:#2563eb;">ONESOURCE Pagero</strong></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>E-Invoicing</strong><br>‚Üí 80+ country compliance, Post-Audit & CTC models, auto document formatting</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>Network Hub</strong><br>‚Üí 14M+ businesses connected, Peppol certified, LATAM via Gosocket</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>AP/AR Automation</strong><br>‚Üí Invoice processing, collections, supplier portal</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>E-Archive</strong><br>‚Üí Local soil storage, tamper-proof records, country-specific retention</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>ONESOURCE Indirect Tax</strong><br>‚Üí VAT determination, pre-built reconciliation, filing</div>
                                </td>
                                <td>
                                    <div style="margin-bottom:6px;"><span class="feature-tag f-ap">TR AI</span></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Predictive Analytics</strong><br>‚Üí ML models forecast compliance risks before they occur. Identifies patterns across your transaction history to flag potential issues weeks in advance.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Auto Tax Determination</strong><br>‚Üí AI analyzes transaction context (parties, goods, location) to select correct VAT rate. Achieves 95% automation rate without manual review.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Smart Data Enrichment</strong><br>‚Üí NLP extracts missing fields from unstructured documents (PDFs, emails). Auto-populates mandatory fields using historical data and master records.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Compliance Checks</strong><br>‚Üí Pre-submission validation against 100+ country-specific rules. Suggests specific fixes for non-compliant fields before government rejection.</div>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li><strong>14M+ businesses</strong></li>
                                        <li>100+ network connections</li>
                                        <li>Peppol certified (all)</li>
                                        <li>LATAM via Gosocket</li>
                                        <li>ViDA pilot leader</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>100+ countries</li>
                                        <li>IDC Leader</li>
                                        <li>$800M acquisition</li>
                                        <li>France 1st PA</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>Largest interoperable network</li>
                                        <li>Thomson Reuters AI + content</li>
                                        <li>ViDA-ready architecture</li>
                                    </ul>
                                </td>
                            </tr>
                            <!-- EDICOM -->
                            <tr>
                                <td class="player-cell"><a href="https://edicomgroup.com" target="_blank" class="player-link">EDICOM</a><br><small style="color:#64748b;">Est. 1995</small></td>
                                <td>
                                    <div style="margin-bottom:8px;"><strong style="color:#2563eb;">EDICOM Global Platform</strong></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>EDI Integration</strong><br>‚Üí EDIFACT, X12, XML, UBL support; VDA, ODETTE, RosettaNet verticals</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>E-Invoicing</strong><br>‚Üí B2G/B2B/B2C, 80+ countries, retail hub connectivity</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>VAT Reporting</strong><br>‚Üí Tax declarations, SAF-T, govt. portal submission</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>Long-Term Archive</strong><br>‚Üí eIDAS compliant, qualified e-signatures, timestamping</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>Transport Docs</strong><br>‚Üí e-CMR, e-Waybill, Peppol Access Point</div>
                                </td>
                                <td>
                                    <div style="margin-bottom:6px;"><span class="feature-tag f-edi">EDICOM AI</span></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>OCR + NLP Extraction</strong><br>‚Üí Converts paper/PDF invoices to structured e-invoice data. Extracts header fields and line items automatically with 95%+ accuracy on first pass.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Fraud Detection</strong><br>‚Üí ML scans incoming invoices for duplicate submissions, suspicious suppliers, and unusual payment patterns. Blocks fraudulent docs before AP processing.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Smart Routing</strong><br>‚Üí Auto-routes documents to correct workflow based on content type, amount thresholds, and approval chains. Escalates exceptions to right person.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Format Conversion</strong><br>‚Üí Transforms between EDIFACT, X12, UBL, XML automatically. No manual mapping required - AI learns document structure from examples.</div>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>SAP, Oracle, Dynamics, JDE</li>
                                        <li>Peppol AP (EU, APAC)</li>
                                        <li>DBNAlliance (US)</li>
                                        <li>Greece MyData (1st)</li>
                                        <li>France PDP</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li><strong>700M+ docs/yr</strong></li>
                                        <li>80+ countries</li>
                                        <li>30yr expertise</li>
                                        <li>eIDAS Qualified TSP</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>Spanish HQ, global reach</li>
                                        <li>EDI + E-Invoice unified</li>
                                        <li>First Greece MyData certified</li>
                                    </ul>
                                </td>
                            </tr>
                            <!-- Avalara -->
                            <tr class="highlight">
                                <td class="player-cell"><a href="https://www.avalara.com" target="_blank" class="player-link">Avalara</a><br><small style="color:#64748b;">Est. 2004</small></td>
                                <td>
                                    <div style="margin-bottom:8px;"><strong style="color:#2563eb;">Avalara Suite</strong></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>AvaTax</strong><br>‚Üí Real-time tax calculation, 1M+ tax rates, auto VAT extraction</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>ELR (E-Invoicing & Live Reporting)</strong><br>‚Üí DBNAlliance free US e-invoicing, Peppol (EU), France/Germany mandates</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>VAT Reporting</strong><br>‚Üí Global filing, automated returns, multi-jurisdiction</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>Exemptions</strong><br>‚Üí Certificate collection, validation, renewal tracking</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#eff6ff;border-radius:4px;"><strong>Cross-Border</strong><br>‚Üí Landed cost, duties, import/export compliance</div>
                                </td>
                                <td>
                                    <div style="margin-bottom:6px;"><span class="feature-tag f-tax">Avi AI Agent</span> <small>(ALFA LLMs)</small></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>ALFA Framework</strong><br>‚Üí Proprietary small LLMs trained specifically on tax/compliance data. Runs locally for data privacy. Powers all Avalara AI agents.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Browser Agent</strong><br>‚Üí Patent-pending browser extension that guides ERP connector setup, observes user actions, suggests compliance tasks in context, and answers tax questions on the fly.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Outlook Agent</strong><br>‚Üí Monitors incoming quote request emails. Auto-calculates tax and prepares response before you reply to customers. Saves hours per week.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>NetSuite Agent</strong><br>‚Üí 1-click AvaTax setup in NetSuite. Agent configures tax codes, nexus, and mappings automatically. No implementation project required.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Natural Language Rules</strong><br>‚Üí Define complex tax rules in plain English ("exempt sales to nonprofits in CA"). AI converts to technical tax logic automatically.</div>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li><strong>1,200+ integrations</strong></li>
                                        <li>Workday, Salesforce</li>
                                        <li>NetSuite, Shopify</li>
                                        <li>Magento, BigCommerce</li>
                                        <li>DBNAlliance founder</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>50+ countries</li>
                                        <li>30K+ customers</li>
                                        <li>1M+ tax rates</li>
                                        <li>99.99% uptime</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>Free US B2B e-invoicing</li>
                                        <li>Proprietary small LLMs</li>
                                        <li>Agentic AI (autonomous)</li>
                                    </ul>
                                </td>
                            </tr>
                            <!-- Basware -->
                            <tr>
                                <td class="player-cell"><a href="https://www.basware.com" target="_blank" class="player-link">Basware</a><br><small style="color:#64748b;">Est. 1985</small></td>
                                <td>
                                    <div style="margin-bottom:8px;"><strong style="color:#2563eb;">Invoice Lifecycle Management</strong></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>SmartPDF</strong><br>‚Üí Converts PDF invoices to structured e-invoices using AI. Achieves 92%+ automatic processing. Captures header + line-level data.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>SmartCoding</strong><br>‚Üí ML-based invoice coding for non-PO invoices. Suggests top 5 GL codes based on historical data. Finance controls thresholds.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>SmartMatching</strong><br>‚Üí Automated 2-way/3-way PO matching. Handles quantity/price tolerance. Routes exceptions automatically.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>Guardian</strong><br>‚Üí First line of defense: Filters fraudulent, duplicate, non-compliant docs before they reach AP workflows.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#f1f5f9;border-radius:4px;"><strong>AP Audit & Recovery</strong><br>‚Üí Continuous auditing of AP transactions. Identifies duplicate payments and recovery opportunities.</div>
                                </td>
                                <td>
                                    <div style="margin-bottom:6px;"><span class="feature-tag f-ap">InvoiceAI</span> <small>(2.2B invoices trained)</small></div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>AP Data Agent</strong><br>‚Üí Ask questions about your AP data in natural language ("What invoices are overdue from Supplier X?"). Generates reports and visualizations on demand.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>AP Business Agent</strong><br>‚Üí Proactively surfaces risks and prioritizes your work queue. Recommends actions ("Approve these 50 invoices - all match PO"). Learns your preferences.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Supplier Agent</strong><br>‚Üí Handles inbound supplier inquiries via chat. Resolves "Where's my payment?" questions automatically. Escalates complex issues to humans.</div>
                                    <div style="font-size:13px;margin-bottom:8px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>GenAI Compliance Agent</strong><br>‚Üí Auto-checks invoices against regulatory requirements per country. Flags non-compliant fields before submission. Coming 2025.</div>
                                    <div style="font-size:13px;padding:6px 8px;background:#dbeafe;border-radius:4px;"><strong>Fraud Detection ML</strong><br>‚Üí Trained on 2.2 billion invoices to spot anomalies. Identifies duplicates, fake suppliers, and unusual patterns humans would miss.</div>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>Basware Network</li>
                                        <li>SAP, Oracle, Dynamics</li>
                                        <li>Peppol Access Point</li>
                                        <li>70+ country compliance</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li><strong>2.2B trained</strong></li>
                                        <li>90%+ touchless</li>
                                        <li>Gartner MQ Leader</li>
                                        <li>70+ countries</li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="usp-list" style="font-size:13px;margin:0;padding-left:14px;">
                                        <li>World's largest invoice AI</li>
                                        <li>100% automation vision</li>
                                        <li>AI Agents for AP/Supplier</li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                    <div class="note" style="margin-top:15px;">
                        <strong>AI Trends in E-Invoicing (2025-2026):</strong>
                        <div style="margin-top:12px; display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                            <div style="padding:10px; background:rgba(255,255,255,0.6); border-radius:6px; border-left:3px solid #f59e0b;">
                                <strong style="color:#92400e;">Agentic AI</strong><br>
                                <span style="font-size:13px;">Autonomous agents that handle end-to-end invoice workflows without human intervention. Avalara's Avi agents log into ERPs via browser, Basware's AP Agent prioritizes work queues and auto-approves matching invoices.</span>
                            </div>
                            <div style="padding:10px; background:rgba(255,255,255,0.6); border-radius:6px; border-left:3px solid #f59e0b;">
                                <strong style="color:#92400e;">Embedded AI (not standalone)</strong><br>
                                <span style="font-size:13px;">AI capabilities baked directly into compliance workflows rather than separate products. Sovos Sovi AI is embedded in tax determination, Pagero's ML runs inside document routing - no separate AI "product" to buy.</span>
                            </div>
                            <div style="padding:10px; background:rgba(255,255,255,0.6); border-radius:6px; border-left:3px solid #f59e0b;">
                                <strong style="color:#92400e;">Proprietary Small Models</strong><br>
                                <span style="font-size:13px;">Vendors training domain-specific LLMs on tax/compliance data rather than using generic models. Avalara's ALFA framework runs locally for data privacy, Basware trained on 2.2B invoices for fraud detection.</span>
                            </div>
                            <div style="padding:10px; background:rgba(255,255,255,0.6); border-radius:6px; border-left:3px solid #f59e0b;">
                                <strong style="color:#92400e;">Natural Language Tax Queries</strong><br>
                                <span style="font-size:13px;">Ask questions in plain English instead of building reports. Sovos: "What's our VAT exposure in Germany?", Basware Data Agent generates visualizations, EDICOM explains raw EDI payloads in business terms.</span>
                            </div>
                        </div>
                    </div>
                    <p style="color:#64748b; font-size:11px; margin-top:12px;"><strong>Sources:</strong> Vendor websites, Gartner, IDC MarketScape, Forrester, G2 | <strong>Research:</strong> January 2026</p>
                </div>

                <!-- Feature Legend -->
                <div class="ms-card">
                    <h3 class="ms-title">Feature Categories</h3>
                    <div class="feature-legend">
                        <div><span class="feature-tag f-einvoice">E-Invoice</span> Core compliance</div>
                        <div><span class="feature-tag f-ap">AP/AR</span> Automation</div>
                        <div><span class="feature-tag f-tax">Tax</span> VAT/GST reporting</div>
                        <div><span class="feature-tag f-edi">EDI</span> Data interchange</div>
                        <div><span class="feature-tag f-erp">ERP</span> Integration</div>
                        <div><span class="feature-tag f-archive">Archive</span> Legal archiving</div>
                    </div>
                </div>

                <p style="color:#64748b; font-size:13px; text-align:center; margin-top:20px;"><strong>Sources:</strong> Company websites, Ardent Partners, IMF, Italian Revenue Agency | <strong>Research:</strong> January 2026</p>
            </div>
        </div>

        <!-- Section: Data Residency -->
        <div id="section-residency" class="section">
            <style>
                .dr-section { font-size: 14px; }
                .dr-disclaimer { background: #fffbeb; border: 1px solid #fcd34d; border-radius: 8px; padding: 14px 18px; margin-bottom: 24px; font-size: 0.85em; color: #92400e; }
                .dr-disclaimer strong { color: #78350f; }
                .dr-stats { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 24px; }
                .dr-stat { background: white; padding: 16px 20px; border-radius: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; flex: 1; min-width: 120px; text-align: center; }
                .dr-stat-num { font-size: 1.75rem; font-weight: 700; }
                .dr-stat-num.red { color: #dc2626; }
                .dr-stat-num.orange { color: #ea580c; }
                .dr-stat-num.blue { color: #2563eb; }
                .dr-stat-num.green { color: #16a34a; }
                .dr-stat-label { color: #64748b; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }
                .dr-aws-ref { background: linear-gradient(135deg, #ff9900 0%, #ffb84d 100%); padding: 16px 20px; border-radius: 10px; margin-bottom: 24px; }
                .dr-aws-ref h3 { color: #1e293b; font-size: 0.875rem; margin-bottom: 10px; font-weight: 600; }
                .dr-aws-chips { display: flex; flex-wrap: wrap; gap: 8px; }
                .dr-aws-chip { background: rgba(255,255,255,0.9); padding: 5px 10px; border-radius: 6px; font-size: 0.75rem; }
                .dr-aws-chip strong { color: #1e293b; }
                .dr-region-header { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); color: white; padding: 14px 20px; border-radius: 10px 10px 0 0; margin-top: 30px; display: flex; align-items: center; gap: 12px; overflow: visible; }
                .dr-region-header h2 { font-size: 1rem; font-weight: 600; margin: 0; color: white !important; overflow: visible; text-overflow: unset; white-space: nowrap; -webkit-text-fill-color: white; background: none; border-bottom: none; }
                .dr-region-count { background: rgba(255,255,255,0.2); padding: 3px 10px; border-radius: 12px; font-size: 0.75rem; }
                .dr-table-container { overflow-x: auto; border: 1px solid #e2e8f0; border-top: none; border-radius: 0 0 10px 10px; margin-bottom: 10px; max-height: 100vh; }
                .dr-table { width: 100%; border-collapse: collapse; background: white; font-size: 0.8rem; table-layout: auto; }
                .dr-table th { background: #f1f5f9; padding: 12px 14px; text-align: left; font-weight: 600; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.03em; color: #475569; border-bottom: 2px solid #e2e8f0; position: sticky; top: 0; z-index: 10; white-space: nowrap; min-width: 100px; }
                .dr-table td { padding: 14px; border-bottom: 1px solid #f1f5f9; vertical-align: top; line-height: 1.5; }
                .dr-table tr:hover { background: #f8fafc; }
                .dr-country-cell { display: flex; align-items: center; gap: 10px; font-weight: 600; white-space: nowrap; font-size: 0.85rem; }
                .dr-flag { font-size: 1.25rem; }
                .dr-badge { display: inline-block; padding: 4px 10px; border-radius: 6px; font-size: 0.7rem; font-weight: 500; white-space: nowrap; }
                .dr-badge-required { background: #fef2f2; color: #dc2626; }
                .dr-badge-conditional { background: #fffbeb; color: #b45309; }
                .dr-badge-flexible { background: #f0fdf4; color: #16a34a; }
                .dr-badge-eu { background: #eff6ff; color: #2563eb; }
                .dr-badge-na { background: #f1f5f9; color: #64748b; }
                .dr-dc-local { background: #fef2f2; color: #dc2626; font-weight: 600; }
                .dr-dc-specific { background: #fff7ed; color: #c2410c; }
                .dr-dc-eu { background: #eff6ff; color: #2563eb; }
                .dr-dc-any { background: #f0fdf4; color: #16a34a; }
                .dr-conf-high { background: #dcfce7; color: #166534; }
                .dr-conf-medium { background: #fef9c3; color: #854d0e; }
                .dr-conf-low { background: #fee2e2; color: #991b1b; }
                .dr-hosting-cell { max-width: 220px; }
                .dr-hosting-main { font-weight: 600; color: #1e293b; margin-bottom: 4px; }
                .dr-hosting-warning { color: #dc2626; font-weight: 500; font-size: 0.75rem; }
                .dr-hosting-note { color: #64748b; font-size: 0.75rem; font-style: italic; }
                .dr-rationale { font-size: 0.8rem; color: #475569; max-width: 280px; line-height: 1.5; }
                .dr-link { color: #3b82f6; text-decoration: none; font-size: 0.8rem; }
                .dr-link:hover { text-decoration: underline; }
                .dr-summary { background: white; border-radius: 10px; padding: 20px 24px; margin: 30px 0; box-shadow: 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; }
                .dr-summary h2 { font-size: 1rem; margin-bottom: 16px; color: #1e293b; }
                .dr-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; }
                .dr-summary-item { display: flex; gap: 12px; padding: 14px; background: #f8fafc; border-radius: 8px; }
                .dr-summary-icon { font-size: 1.25rem; flex-shrink: 0; }
                .dr-summary-content h4 { font-size: 0.85rem; color: #1e293b; margin-bottom: 4px; }
                .dr-summary-content p { font-size: 0.75rem; color: #64748b; line-height: 1.5; margin: 0; }
                .dr-toolbar { display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap; align-items: center; }
                .dr-search { flex: 1; min-width: 250px; max-width: 400px; padding: 10px 14px; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 0.875rem; background: #f8fafc; }
                .dr-search:focus { outline: none; border-color: #3b82f6; background: white; }
                .dr-btn { padding: 10px 16px; border-radius: 8px; font-size: 0.8rem; font-weight: 500; cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 6px; transition: all 0.2s; }
                .dr-btn-primary { background: #3b82f6; color: white; }
                .dr-btn-primary:hover { background: #2563eb; }
            </style>

            <div class="dr-section">
                <div class="dr-disclaimer">
                    <strong>Disclaimer:</strong> Research based on official government sources as of January 9, 2026. Regulations change frequently. Always verify with official tax authorities and legal counsel before making compliance decisions.
                </div>

                <div class="dr-toolbar">
                    <input type="text" class="dr-search" id="drSearchInput" placeholder="Search countries...">
                    <button class="dr-btn dr-btn-primary" onclick="downloadDRCSV()">
                        <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                        Download CSV
                    </button>
                </div>

                <div class="dr-stats">
                    <div class="dr-stat">
                        <div class="dr-stat-num">41</div>
                        <div class="dr-stat-label">Countries Analyzed</div>
                    </div>
                    <div class="dr-stat">
                        <div class="dr-stat-num red">4</div>
                        <div class="dr-stat-label">Local DC Required</div>
                    </div>
                    <div class="dr-stat">
                        <div class="dr-stat-num orange">2</div>
                        <div class="dr-stat-label">Specific AWS Region</div>
                    </div>
                    <div class="dr-stat">
                        <div class="dr-stat-num blue">22</div>
                        <div class="dr-stat-label">Any EU Region</div>
                    </div>
                    <div class="dr-stat">
                        <div class="dr-stat-num green">14</div>
                        <div class="dr-stat-label">Any Region OK</div>
                    </div>
                </div>

                <div class="dr-aws-ref">
                    <h3>AWS Regions Reference</h3>
                    <div class="dr-aws-chips">
                        <div class="dr-aws-chip"><strong>me-south-1</strong> Bahrain</div>
                        <div class="dr-aws-chip"><strong>me-central-1</strong> UAE</div>
                        <div class="dr-aws-chip"><strong>il-central-1</strong> Israel</div>
                        <div class="dr-aws-chip"><strong>eu-central-1</strong> Frankfurt</div>
                        <div class="dr-aws-chip"><strong>eu-west-1</strong> Ireland</div>
                        <div class="dr-aws-chip"><strong>eu-west-2</strong> London</div>
                        <div class="dr-aws-chip"><strong>eu-west-3</strong> Paris</div>
                        <div class="dr-aws-chip"><strong>eu-south-1</strong> Milan</div>
                        <div class="dr-aws-chip"><strong>eu-south-2</strong> Spain</div>
                        <div class="dr-aws-chip"><strong>eu-north-1</strong> Stockholm</div>
                        <div class="dr-aws-chip"><strong>eu-central-2</strong> Zurich</div>
                    </div>
                </div>

                <!-- MENA Section -->
                <div class="dr-region-header">
                    <h2>Middle East & North Africa (MENA)</h2>
                    <span class="dr-region-count" id="dr-mena-count">13 countries</span>
                </div>
                <div class="dr-table-container">
                    <table class="dr-table" id="dr-mena-table">
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Data Residency</th>
                                <th>DC Requirement</th>
                                <th>Recommended Hosting</th>
                                <th>Archival</th>
                                <th>Govt Portal</th>
                                <th>eInvoice Portal</th>
                                <th>Rationale</th>
                                <th>Confidence</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-country="saudi arabia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127480;&#127462;</span> Saudi Arabia</div></td>
                                <td><span class="dr-badge dr-badge-required">Mandatory Domestic</span></td>
                                <td><span class="dr-badge dr-dc-local">Local DC Required</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Local Saudi DC only</div>
                                    <div class="dr-hosting-warning">AWS me-south-1 (Bahrain) NOT compliant</div>
                                    <div class="dr-hosting-note">Use: STC Cloud, Mobily, Oracle KSA</div>
                                </td>
                                <td>6-11 yrs</td>
                                <td><a class="dr-link" href="https://zatca.gov.sa" target="_blank">zatca.gov.sa</a></td>
                                <td><a class="dr-link" href="https://zatca.gov.sa/en/E-Invoicing" target="_blank">FATOORA</a></td>
                                <td class="dr-rationale">E-Invoicing Resolution requires servers "within the country." NCA Cloud Controls mandate data inside Saudi borders.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="uae">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127462;&#127466;</span> UAE</div></td>
                                <td><span class="dr-badge dr-badge-required">Mandatory Domestic</span></td>
                                <td><span class="dr-badge dr-dc-specific">AWS me-central-1</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS me-central-1 (UAE)</div>
                                    <div class="dr-hosting-note">UAE has local AWS region - compliant for eInvoicing</div>
                                </td>
                                <td>5-15 yrs</td>
                                <td><a class="dr-link" href="https://tax.gov.ae" target="_blank">tax.gov.ae</a></td>
                                <td><a class="dr-link" href="https://tax.gov.ae/en/taxes/e.invoicing.aspx" target="_blank">eInvoicing</a></td>
                                <td class="dr-rationale">Ministerial Decision 243/244 of 2025 requires storage within UAE. AWS me-central-1 satisfies this.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="turkey">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127481;&#127479;</span> Turkey</div></td>
                                <td><span class="dr-badge dr-badge-required">Mandatory Domestic</span></td>
                                <td><span class="dr-badge dr-dc-local">Local DC Required</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Local Turkish DC only</div>
                                    <div class="dr-hosting-warning">No AWS region in Turkey</div>
                                    <div class="dr-hosting-note">Use: Turkcell, Vodafone Turkey</div>
                                </td>
                                <td>5-10 yrs</td>
                                <td><a class="dr-link" href="https://www.gib.gov.tr" target="_blank">gib.gov.tr</a></td>
                                <td><a class="dr-link" href="https://ebelge.gib.gov.tr" target="_blank">e-Fatura</a></td>
                                <td class="dr-rationale">VUK Communique 447 states IT infrastructure must be "within borders of Republic of Turkey."</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="egypt">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127466;&#127468;</span> Egypt</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">Recommend: me-south-1 (Bahrain) for latency</div>
                                </td>
                                <td>5-7 yrs</td>
                                <td><a class="dr-link" href="https://www.eta.gov.eg" target="_blank">eta.gov.eg</a></td>
                                <td><a class="dr-link" href="https://invoicing.eta.gov.eg" target="_blank">ETA Portal</a></td>
                                <td class="dr-rationale">No explicit data residency in ETA docs. All invoices submitted to central ETA system.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="israel">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127470;&#127473;</span> Israel</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-specific">AWS il-central-1</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS il-central-1 (Tel Aviv)</div>
                                    <div class="dr-hosting-note">Safest option. Abroad storage needs prior ITA authorization.</div>
                                </td>
                                <td>7 yrs</td>
                                <td><a class="dr-link" href="https://taxes.gov.il" target="_blank">taxes.gov.il</a></td>
                                <td><span class="dr-badge dr-badge-na">Voluntary</span></td>
                                <td class="dr-rationale">No data localization law, but storage abroad requires ITA authorization. Using il-central-1 avoids this.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="oman">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127476;&#127474;</span> Oman</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">Recommend: me-south-1 (Bahrain). Must disclose location to OTA.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://taxoman.gov.om/portal/" target="_blank">taxoman.gov.om</a></td>
                                <td><a class="dr-link" href="https://taxoman.gov.om/portal/web/taxportal/e-invoicing" target="_blank">OTA eInvoice</a></td>
                                <td class="dr-rationale">No geographic restriction mandated. Focus on ISO 27001 and security standards.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="jordan">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127471;&#127476;</span> Jordan</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">Recommend: me-south-1 (Bahrain) for latency</div>
                                </td>
                                <td>4-10 yrs</td>
                                <td><a class="dr-link" href="https://istd.gov.jo" target="_blank">istd.gov.jo</a></td>
                                <td><a class="dr-link" href="https://jofotara.gov.jo" target="_blank">JoFotara</a></td>
                                <td class="dr-rationale">No explicit data localization. Data centralized via JoFotara.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="qatar">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127478;&#127462;</span> Qatar</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">Recommend: me-south-1. Tax records in Qatar preferred.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://gta.gov.qa" target="_blank">gta.gov.qa</a></td>
                                <td><span class="dr-badge dr-badge-na">Pending</span></td>
                                <td class="dr-rationale">No eInvoicing mandate yet. Cloud Policy Framework (2022) removed general data localization.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="bahrain">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127463;&#127469;</span> Bahrain</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-specific">AWS me-south-1</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS me-south-1 (Bahrain)</div>
                                    <div class="dr-hosting-note">Local region available, no mandatory eInvoicing yet</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.nbr.gov.bh" target="_blank">nbr.gov.bh</a></td>
                                <td><span class="dr-badge dr-badge-na">Pending</span></td>
                                <td class="dr-rationale">PDPL has no general localization. Private sector flexible. AWS Bahrain provides optimal latency.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="kuwait">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127472;&#127484;</span> Kuwait</div></td>
                                <td><span class="dr-badge dr-badge-na">N/A</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">No eInvoicing. Recommend: me-south-1 for latency.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.mof.gov.kw" target="_blank">mof.gov.kw</a></td>
                                <td><span class="dr-badge dr-badge-na">N/A</span></td>
                                <td class="dr-rationale">No VAT or eInvoicing mandate. No general data localization law.</td>
                                <td><span class="dr-badge dr-conf-low">Low</span></td>
                            </tr>
                            <tr data-country="morocco">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127474;&#127462;</span> Morocco</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-eu">EU Region + Auth</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">EU region with CNDP authorization</div>
                                    <div class="dr-hosting-note">Recommend: eu-south-1 (Milan) or eu-west-3 (Paris)</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://tax.gov.ma" target="_blank">tax.gov.ma</a></td>
                                <td><span class="dr-badge dr-badge-na">2026</span></td>
                                <td class="dr-rationale">eInvoicing 2026. Law 09-08 requires CNDP authorization for international transfers.</td>
                                <td><span class="dr-badge dr-conf-low">Low</span></td>
                            </tr>
                            <tr data-country="tunisia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127481;&#127475;</span> Tunisia</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-local">Local DC Preferred</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Local or TTN centralized</div>
                                    <div class="dr-hosting-warning">Cross-border needs INPDP auth</div>
                                    <div class="dr-hosting-note">TTN archives centrally. Consider eu-south-1 with auth.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.finances.gov.tn" target="_blank">finances.gov.tn</a></td>
                                <td><a class="dr-link" href="https://www.ttn.com.tn" target="_blank">TTN</a></td>
                                <td class="dr-rationale">Centralized via TTN. Cross-border transfers require INPDP authorization.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="iraq">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127470;&#127478;</span> Iraq</div></td>
                                <td><span class="dr-badge dr-badge-na">N/A</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">No eInvoicing mandate. Recommend: me-south-1 for latency.</div>
                                </td>
                                <td>N/A</td>
                                <td><a class="dr-link" href="https://mof.gov.iq" target="_blank">mof.gov.iq</a></td>
                                <td><span class="dr-badge dr-badge-na">N/A</span></td>
                                <td class="dr-rationale">No eInvoicing mandate. No PDPL. No forced data localization.</td>
                                <td><span class="dr-badge dr-conf-low">Low</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Europe Section -->
                <div class="dr-region-header">
                    <h2>Europe</h2>
                    <span class="dr-region-count" id="dr-europe-count">28 countries</span>
                </div>
                <div class="dr-table-container">
                    <table class="dr-table" id="dr-europe-table">
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Data Residency</th>
                                <th>DC Requirement</th>
                                <th>Recommended Hosting</th>
                                <th>Archival</th>
                                <th>Govt Portal</th>
                                <th>eInvoice Portal</th>
                                <th>Rationale</th>
                                <th>Confidence</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-country="germany">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127465;&#127466;</span> Germany</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-eu">EU + Approval</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS eu-central-1 (Frankfurt)</div>
                                    <div class="dr-hosting-note">Domestic preferred. EU needs prior tax authority approval.</div>
                                </td>
                                <td>8-10 yrs</td>
                                <td><a class="dr-link" href="https://www.bzst.de" target="_blank">bzst.de</a></td>
                                <td><a class="dr-link" href="https://www.xrechnung.bund.de" target="_blank">XRechnung</a></td>
                                <td class="dr-rationale">Section 146(2a) AO allows EU with prior written approval. Penalty EUR 250K/yr for unauthorized.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="france">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127467;&#127479;</span> France</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU Required</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region *</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Your infra: eu-west-3 (Paris) recommended.</div>
                                    <div class="dr-hosting-warning">* Only PDPs need SecNumCloud (OVHcloud, 3DS Outscale)</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.impots.gouv.fr" target="_blank">impots.gouv.fr</a></td>
                                <td><a class="dr-link" href="https://portail.chorus-pro.gouv.fr" target="_blank">Chorus Pro</a></td>
                                <td class="dr-rationale">Service providers: any EU region OK. SecNumCloud certification only required if you're a PDP (Plateforme de D√©mat√©rialisation Partenaire) - AWS not certified, use OVHcloud/Outscale for PDP role.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="italy">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127470;&#127481;</span> Italy</div></td>
                                <td><span class="dr-badge dr-badge-eu">Govt Clearance</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Your infra: eu-south-1 (Milan) recommended. SdI handles clearance. Free SOGEI archival available.</div>
                                </td>
                                <td>10-15 yrs</td>
                                <td><a class="dr-link" href="https://www.agenziaentrate.gov.it" target="_blank">agenziaentrate.gov.it</a></td>
                                <td><a class="dr-link" href="https://www.fatturapa.gov.it" target="_blank">FatturaPA/SdI</a></td>
                                <td class="dr-rationale">SdI (govt) clears all invoices centrally. Service providers only need API integration - no local DC required. Host your infrastructure in any EU region.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="spain">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127466;&#127480;</span> Spain</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU OK</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS eu-south-2 (Spain)</div>
                                    <div class="dr-hosting-note">In-country option. Any EU works with AEAT notification.</div>
                                </td>
                                <td>4-6 yrs</td>
                                <td><a class="dr-link" href="https://www.agenciatributaria.es" target="_blank">agenciatributaria.es</a></td>
                                <td><a class="dr-link" href="https://www.facturae.gob.es" target="_blank">FACe/VeriFactu</a></td>
                                <td class="dr-rationale">EU VAT Directive permits any EU. Notify AEAT when moving to another country.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="poland">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127477;&#127473;</span> Poland</div></td>
                                <td><span class="dr-badge dr-badge-eu">Govt Centralized</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Your infra: eu-central-1 recommended. Invoices stored by govt KSeF system.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.podatki.gov.pl" target="_blank">podatki.gov.pl</a></td>
                                <td><a class="dr-link" href="https://ksef.mf.gov.pl" target="_blank">KSeF</a></td>
                                <td class="dr-rationale">KSeF (govt) stores all invoices centrally. Service providers only need API integration - no local DC required. Host your infrastructure in any EU region.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="belgium">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127463;&#127466;</span> Belgium</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU OK</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-west-1 (Ireland) or eu-central-1 (Frankfurt)</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://finances.belgium.be" target="_blank">finances.belgium.be</a></td>
                                <td><a class="dr-link" href="https://www.efacture.belgium.be" target="_blank">eFact/Peppol</a></td>
                                <td class="dr-rationale">No strict domestic requirement. Cloud permitted. Peppol certified providers.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="united kingdom uk">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127468;&#127463;</span> United Kingdom</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS eu-west-2 (London)</div>
                                    <div class="dr-hosting-note">In-country option. Any region works.</div>
                                </td>
                                <td>6 yrs</td>
                                <td><a class="dr-link" href="https://www.gov.uk/government/organisations/hm-revenue-customs" target="_blank">gov.uk/hmrc</a></td>
                                <td><a class="dr-link" href="https://www.gov.uk/making-tax-digital" target="_blank">MTD</a></td>
                                <td class="dr-rationale">No geographic restrictions. MTD focuses on functional requirements.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="romania">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127479;&#127476;</span> Romania</div></td>
                                <td><span class="dr-badge dr-badge-eu">Govt Clearance</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-warning">ANAF e-Factura only stores 60 days - you must archive!</div>
                                    <div class="dr-hosting-note">Your infra: eu-central-1 recommended. Archive XML with digital seal.</div>
                                </td>
                                <td>10-25 yrs</td>
                                <td><a class="dr-link" href="https://www.anaf.ro" target="_blank">anaf.ro</a></td>
                                <td><a class="dr-link" href="https://www.anaf.ro/efactura" target="_blank">e-Factura</a></td>
                                <td class="dr-rationale">RO e-Factura (govt) clears invoices but only stores 60 days. Service providers must archive independently in any EU region.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="hungary">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127469;&#127482;</span> Hungary</div></td>
                                <td><span class="dr-badge dr-badge-eu">Real-time Reporting</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Your infra: eu-central-1 recommended. NAV Online receives real-time reports.</div>
                                </td>
                                <td>5-8 yrs</td>
                                <td><a class="dr-link" href="https://nav.gov.hu" target="_blank">nav.gov.hu</a></td>
                                <td><a class="dr-link" href="https://onlineszamla.nav.gov.hu" target="_blank">NAV Online</a></td>
                                <td class="dr-rationale">NAV Online Invoicing receives real-time reports. Service providers need API integration - no local DC required. Host in any EU region.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="netherlands">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127475;&#127473;</span> Netherlands</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU OK</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">ISO 27001 required for Peppol. AWS is certified.</div>
                                </td>
                                <td>7-10 yrs</td>
                                <td><a class="dr-link" href="https://www.belastingdienst.nl" target="_blank">belastingdienst.nl</a></td>
                                <td><a class="dr-link" href="https://www.simplerinvoicing.org" target="_blank">SI/Peppol</a></td>
                                <td class="dr-rationale">EU or GDPR-adequate countries. First to mandate ISO 27001 for Peppol.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="sweden">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127480;&#127466;</span> Sweden</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-eu">EU + Notify</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS eu-north-1 (Stockholm)</div>
                                    <div class="dr-hosting-note">Safest. Other EU requires Skatteverket notification.</div>
                                </td>
                                <td>7 yrs</td>
                                <td><a class="dr-link" href="https://www.skatteverket.se" target="_blank">skatteverket.se</a></td>
                                <td><a class="dr-link" href="https://www.peppol.org" target="_blank">Peppol/SFTI</a></td>
                                <td class="dr-rationale">Default: Sweden. EU/EEA requires notification to Skatteverket.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="norway">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127475;&#127476;</span> Norway</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-eu">Nordic/EEA + Notify</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS eu-north-1 (Stockholm)</div>
                                    <div class="dr-hosting-note">Nordic exempt. EEA needs written notice.</div>
                                </td>
                                <td>Up to 35 yrs</td>
                                <td><a class="dr-link" href="https://www.skatteetaten.no" target="_blank">skatteetaten.no</a></td>
                                <td><a class="dr-link" href="https://anskaffelser.no/elektronisk-handel/ehf" target="_blank">EHF/Peppol</a></td>
                                <td class="dr-rationale">Default: Norway. Nordic (DK, FI, IS, SE) exempt without application.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="ireland">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127470;&#127466;</span> Ireland</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU OK</span></td>
                                <td><span class="dr-badge dr-dc-eu">AWS eu-west-1</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">AWS eu-west-1 (Ireland)</div>
                                    <div class="dr-hosting-note">In-country region with excellent connectivity.</div>
                                </td>
                                <td>6 yrs</td>
                                <td><a class="dr-link" href="https://www.revenue.ie" target="_blank">revenue.ie</a></td>
                                <td><a class="dr-link" href="https://www.peppol.org" target="_blank">Peppol</a></td>
                                <td class="dr-rationale">EU storage permitted. Paper in Ireland. Ireland region provides local option.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="austria">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127462;&#127481;</span> Austria</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-central-1 (Frankfurt) for proximity.</div>
                                </td>
                                <td>7-22 yrs</td>
                                <td><a class="dr-link" href="https://www.bmf.gv.at" target="_blank">bmf.gv.at</a></td>
                                <td><a class="dr-link" href="https://www.usp.gv.at" target="_blank">USP/Peppol</a></td>
                                <td class="dr-rationale">No mandatory domestic requirement. Functional accessibility over location.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="switzerland">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127464;&#127469;</span> Switzerland</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">Your infra: eu-central-2 (Zurich) recommended for latency. Cloud requires e-signatures per GeBuV.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.estv.admin.ch" target="_blank">estv.admin.ch</a></td>
                                <td><a class="dr-link" href="https://www.swiss-qr-invoice.org" target="_blank">QR-Bill</a></td>
                                <td class="dr-rationale">No explicit domestic requirement. Switzerland not in EU - any region works. Zurich optimal for latency but not mandatory.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="finland">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127467;&#127470;</span> Finland</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU/EEA Preferred</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-north-1 (Stockholm) for proximity.</div>
                                </td>
                                <td>6-10 yrs</td>
                                <td><a class="dr-link" href="https://www.vero.fi" target="_blank">vero.fi</a></td>
                                <td><a class="dr-link" href="https://tieke.fi/en/services/verkkolasku" target="_blank">Verkkolasku</a></td>
                                <td class="dr-rationale">No explicit domestic requirement. EU/EEA preferred. Peppol pioneer since 2009.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="denmark">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127465;&#127472;</span> Denmark</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-north-1 (Stockholm). Shortest retention (5 yrs).</div>
                                </td>
                                <td>5 yrs</td>
                                <td><a class="dr-link" href="https://skat.dk" target="_blank">skat.dk</a></td>
                                <td><a class="dr-link" href="https://nemhandel.dk" target="_blank">NemHandel</a></td>
                                <td class="dr-rationale">No geographic mandate. Focus on certified cloud-ready systems.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="portugal">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127477;&#127481;</span> Portugal</div></td>
                                <td><span class="dr-badge dr-badge-conditional">Conditional</span></td>
                                <td><span class="dr-badge dr-dc-eu">EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-south-2 (Spain) for proximity. Paper must be in Portugal.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://portaldasfinancas.gov.pt" target="_blank">portaldasfinancas.gov.pt</a></td>
                                <td><a class="dr-link" href="https://faturas.portaldasfinancas.gov.pt" target="_blank">eFatura</a></td>
                                <td class="dr-rationale">Electronic: EU permitted. Paper: Portugal. AT-certified billing required.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="greece">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127468;&#127479;</span> Greece</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-south-1 (Milan) for proximity.</div>
                                </td>
                                <td>5-10 yrs</td>
                                <td><a class="dr-link" href="https://www.aade.gr" target="_blank">aade.gr</a></td>
                                <td><a class="dr-link" href="https://mydata.aade.gr" target="_blank">myDATA</a></td>
                                <td class="dr-rationale">No explicit data residency. myDATA real-time focus. Certified providers required.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="czech republic czechia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127464;&#127487;</span> Czech Republic</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-central-1 (Frankfurt). Notify tax authority of location.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.mfcr.cz" target="_blank">mfcr.cz</a></td>
                                <td><span class="dr-badge dr-badge-na">2026</span></td>
                                <td class="dr-rationale">VAT Act allows abroad. Key: immediate free electronic access.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="slovakia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127480;&#127472;</span> Slovakia</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-central-1 (Frankfurt). UBL 2.1 from Jan 2027.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.financnasprava.sk" target="_blank">financnasprava.sk</a></td>
                                <td><a class="dr-link" href="https://www.isefa.sk" target="_blank">IS EFA</a></td>
                                <td class="dr-rationale">No domestic mandate. Storage flexible. IS EFA for B2G.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="slovenia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127480;&#127470;</span> Slovenia</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU OK</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-south-1 (Milan) or eu-central-1.</div>
                                </td>
                                <td>10-20 yrs</td>
                                <td><a class="dr-link" href="https://www.fu.gov.si" target="_blank">fu.gov.si</a></td>
                                <td><a class="dr-link" href="https://www.ujp.gov.si" target="_blank">eSlog/UJP</a></td>
                                <td class="dr-rationale">EU VAT Directive applies. EU storage permitted. 20 years for real estate.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="croatia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127469;&#127479;</span> Croatia</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-south-1 (Milan). ISO 27001 + GDPR required.</div>
                                </td>
                                <td>11 yrs</td>
                                <td><a class="dr-link" href="https://www.porezna-uprava.hr" target="_blank">porezna-uprava.hr</a></td>
                                <td><a class="dr-link" href="https://cis.porezna-uprava.hr" target="_blank">CIS</a></td>
                                <td class="dr-rationale">Fiscalization focuses on real-time reporting not location. 11-year retention.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="bulgaria">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127463;&#127468;</span> Bulgaria</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-central-1 (Frankfurt). SAF-T from Jan 2026.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://portal.nra.bg" target="_blank">nra.bg</a></td>
                                <td><span class="dr-badge dr-badge-na">SAF-T 2026</span></td>
                                <td class="dr-rationale">EU Directive framework. No explicit domestic requirement.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="latvia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127473;&#127483;</span> Latvia</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-north-1 (Stockholm). B2B mandatory Jan 2028.</div>
                                </td>
                                <td>5-10 yrs</td>
                                <td><a class="dr-link" href="https://www.vid.gov.lv" target="_blank">vid.gov.lv</a></td>
                                <td><span class="dr-badge dr-badge-na">2028</span></td>
                                <td class="dr-rationale">Abroad allowed with online access. Electronic invoices flexible.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="lithuania">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127473;&#127481;</span> Lithuania</div></td>
                                <td><span class="dr-badge dr-badge-eu">EU OK</span></td>
                                <td><span class="dr-badge dr-dc-eu">Any EU Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any EU AWS region</div>
                                    <div class="dr-hosting-note">Recommend: eu-north-1 (Stockholm). B2B mandatory Jan 2028.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://www.vmi.lt" target="_blank">vmi.lt</a></td>
                                <td><span class="dr-badge dr-badge-na">2028</span></td>
                                <td class="dr-rationale">No explicit national residency. EU permitted. Focus on audit accessibility.</td>
                                <td><span class="dr-badge dr-conf-medium">Medium</span></td>
                            </tr>
                            <tr data-country="estonia">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127466;&#127466;</span> Estonia</div></td>
                                <td><span class="dr-badge dr-badge-flexible">Flexible</span></td>
                                <td><span class="dr-badge dr-dc-any">Any Region</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Any AWS region</div>
                                    <div class="dr-hosting-note">Most flexible in EU. EMTA: "may choose the place."</div>
                                </td>
                                <td>7 yrs</td>
                                <td><a class="dr-link" href="https://www.emta.ee" target="_blank">emta.ee</a></td>
                                <td><a class="dr-link" href="https://www.peppol.org" target="_blank">Peppol</a></td>
                                <td class="dr-rationale">EMTA explicitly allows taxpayer choice of location. Most flexible.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                            <tr data-country="luxembourg">
                                <td><div class="dr-country-cell"><span class="dr-flag">&#127473;&#127482;</span> Luxembourg</div></td>
                                <td><span class="dr-badge dr-badge-required">Mandatory Domestic</span></td>
                                <td><span class="dr-badge dr-dc-local">Local DC Required</span></td>
                                <td class="dr-hosting-cell">
                                    <div class="dr-hosting-main">Local Luxembourg DC only</div>
                                    <div class="dr-hosting-warning">No AWS region in Luxembourg</div>
                                    <div class="dr-hosting-note">Use: LuxConnect, Ebrc, POST Luxembourg. Strictest EU.</div>
                                </td>
                                <td>10 yrs</td>
                                <td><a class="dr-link" href="https://acd.gouvernement.lu" target="_blank">acd.gouvernement.lu</a></td>
                                <td><a class="dr-link" href="https://peppol.lu" target="_blank">Peppol</a></td>
                                <td class="dr-rationale">Guichet.lu: "Place of preservation must be Luxembourg." Strictest in EU.</td>
                                <td><span class="dr-badge dr-conf-high">High</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Summary Section -->
                <div class="dr-summary">
                    <h2>Data Center Strategy Summary</h2>
                    <div class="dr-summary-grid">
                        <div class="dr-summary-item">
                            <div class="dr-summary-icon">&#128308;</div>
                            <div class="dr-summary-content">
                                <h4>Local Data Centers Required</h4>
                                <p><strong>Saudi Arabia:</strong> STC Cloud, Mobily, Oracle KSA | <strong>Turkey:</strong> Turkcell, Vodafone | <strong>Luxembourg:</strong> LuxConnect, Ebrc | <strong>Tunisia:</strong> TTN or local + auth</p>
                                <p style="font-size: 0.7rem; margin-top: 6px;"><strong>Note:</strong> Poland (KSeF) - govt stores invoices centrally, your infra can be any EU region</p>
                            </div>
                        </div>
                        <div class="dr-summary-item">
                            <div class="dr-summary-icon">&#128992;</div>
                            <div class="dr-summary-content">
                                <h4>Specific AWS Regions Required</h4>
                                <p><strong>UAE:</strong> me-central-1 (mandatory) | <strong>Israel:</strong> il-central-1 (recommended)</p>
                                <p style="font-size: 0.7rem; margin-top: 6px;"><strong>Note:</strong> France only needs SecNumCloud if you're a PDP - otherwise any EU region works</p>
                            </div>
                        </div>
                        <div class="dr-summary-item">
                            <div class="dr-summary-icon">&#128309;</div>
                            <div class="dr-summary-content">
                                <h4>Central EU Hub Strategy</h4>
                                <p><strong>Primary:</strong> eu-central-1 (Frankfurt) or eu-west-1 (Ireland) | <strong>Southern:</strong> eu-south-1 (Milan) | <strong>Nordic:</strong> eu-north-1 (Stockholm)</p>
                            </div>
                        </div>
                        <div class="dr-summary-item">
                            <div class="dr-summary-icon">&#128994;</div>
                            <div class="dr-summary-content">
                                <h4>Fully Flexible (Any Region)</h4>
                                <p>UK, Switzerland, Estonia, Egypt, Oman, Jordan, Qatar, Bahrain, Kuwait, Iraq. Use me-south-1 for ME, eu-central-1/eu-central-2 for Europe.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <p style="color:#64748b; font-size:13px; text-align:center; margin-top:20px;"><strong>Sources:</strong> Official government tax authority websites, EU Digital Building Blocks, national VAT/tax legislation | <strong>Research:</strong> January 2026</p>
            </div>
        </div>

        <div class="footer">
            <p>Clear Global eInvoicing Mandate Tracker | Data compiled from official tax authority sources and EY Global E-invoicing Tracker (December 2025)</p>
            <p>For strategic planning purposes. Always verify with official sources before compliance decisions.</p>
        </div>
    </div>

    <script>
        const countryData = [
            // MENA Region (13 countries)
            {
                country: "Saudi Arabia",
                flag: "üá∏üá¶",
                region: "MENA",
                gdp: 1069,
                b2b: { status: "Mandatory", date: "2023", detail: "Phase 2 (Integration) ongoing through 2025-2026" },
                b2g: { status: "Mandatory", date: "2023", detail: "ZATCA FATOORA platform" },
                b2c: { status: "Mandatory", date: "2023", detail: "Simplified e-invoices with QR codes" },
                model: ["Clearance", "CTC"],
                keyDates: ["Phase 2 Wave 14: Jan 2025", "Wave 15: Feb 2025", "Ongoing monthly waves"],
                strategic: { tam: 850, competitors: "SAP, Sovos, Pagero", potential: 5, barriers: "High", partnership: "Yes", urgency: "High" },
                compliance: { accreditation: "Yes", penalties: "Up to SAR 50,000 per invoice", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "ZATCA",
                portal: "fatoora.zatca.gov.sa",
                providers: "ClearTax 30%, SAP 20%, Tally 15%"
            },
            {
                country: "UAE",
                flag: "üá¶üá™",
                region: "MENA",
                gdp: 509,
                b2b: { status: "Planned", date: "Jul 2026", detail: "Pilot Jul 2026; >AED 50M from Jan 2027, all others Jul 2027" },
                b2g: { status: "Planned", date: "Jul 2026", detail: "Same timeline as B2B" },
                b2c: { status: "N/A", date: "-", detail: "Out of scope until future decision" },
                model: ["Peppol", "CTC"],
                keyDates: ["Pilot: Jul 2026", "Mandatory >AED 50M: Jan 2027", "All others: Jul 2027"],
                strategic: { tam: 600, competitors: "SAP, Oracle, Zoho", potential: 5, barriers: "Medium", partnership: "No", urgency: "High" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "AED 50M first wave", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "FTA",
                portal: "tax.gov.ae",
                providers: "SAP 35%, Oracle 20%, Zoho 15%"
            },
            {
                country: "Turkey",
                flag: "üáπüá∑",
                region: "MENA",
                gdp: 1154,
                b2b: { status: "Mandatory", date: "2013", detail: "e-Fatura for registered taxpayers" },
                b2g: { status: "Mandatory", date: "2013", detail: "Same as B2B requirements" },
                b2c: { status: "Mandatory", date: "2013", detail: "e-Arsiv for B2C transactions" },
                model: ["Clearance"],
                keyDates: ["Active since 2013", "Continuous expansion of scope"],
                strategic: { tam: 450, competitors: "Local providers dominant", potential: 4, barriers: "High", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "TRY fines + tax penalties", threshold: "Revenue-based thresholds", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "GIB (Revenue Administration)",
                portal: "ebelge.gib.gov.tr",
                providers: "Foriba 30%, Logo 20%"
            },
            {
                country: "Egypt",
                flag: "üá™üá¨",
                region: "MENA",
                gdp: 387,
                b2b: { status: "Mandatory", date: "2021", detail: "All companies since Apr 2023" },
                b2g: { status: "Mandatory", date: "2023", detail: "Integrated with ETA portal" },
                b2c: { status: "Mandatory", date: "2022", detail: "e-Receipt system mandatory" },
                model: ["Clearance", "CTC"],
                keyDates: ["B2B: Nov 2021 start", "Full rollout: Apr 2023", "e-Receipt: 2022"],
                strategic: { tam: 200, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "EGP 20,000-100,000", threshold: "All registered taxpayers", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "ETA",
                portal: "invoicing.eta.gov.eg"
            },
            {
                country: "Israel",
                flag: "üáÆüá±",
                region: "MENA",
                gdp: 564,
                b2b: { status: "Mandatory", date: "2024", detail: "Allocation numbers for invoices >25K ILS" },
                b2g: { status: "Mandatory", date: "2024", detail: "Same requirements" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated for consumer sales" },
                model: ["CTC"],
                keyDates: ["May 2024: >25K ILS threshold", "Jan 2025: >20K ILS", "Jan 2026: >15K ILS", "Jan 2028: >5K ILS"],
                strategic: { tam: 180, competitors: "Priority Software, SAP", potential: 4, barriers: "Medium", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "No", penalties: "Tax penalties for non-compliance", threshold: "25K ILS (decreasing)", realtime: "Yes", residency: "No", complexity: "Medium" },
                taxAuthority: "Israel Tax Authority",
                portal: "taxes.gov.il"
            },
            {
                country: "Oman",
                flag: "üá¥üá≤",
                region: "MENA",
                gdp: 115,
                b2b: { status: "Planned", date: "Aug 2026", detail: "Large taxpayers first, all by Aug 2027" },
                b2g: { status: "Planned", date: "Aug 2026", detail: "Same timeline as B2B" },
                b2c: { status: "Planned", date: "Aug 2026", detail: "Included in phased rollout" },
                model: ["CTC", "Peppol"],
                keyDates: ["Aug 2026: Selected large taxpayers", "Feb 2027: All large taxpayers", "Aug 2027: All VAT-registered"],
                strategic: { tam: 50, competitors: "Limited presence", potential: 4, barriers: "Low", partnership: "Recommended", urgency: "High" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "Phased by size", realtime: "Yes", residency: "TBD", complexity: "Medium" },
                taxAuthority: "Oman Tax Authority",
                portal: "taxoman.gov.om"
            },
            {
                country: "Jordan",
                flag: "üáØüá¥",
                region: "MENA",
                gdp: 51,
                b2b: { status: "Mandatory", date: "2023", detail: "JoFotara system mandatory" },
                b2g: { status: "Mandatory", date: "2023", detail: "Required for government suppliers" },
                b2c: { status: "Mandatory", date: "2023", detail: "Fiscal receipts required" },
                model: ["Clearance"],
                keyDates: ["Dec 2022: Initial launch", "2023: Full rollout", "Ongoing enforcement"],
                strategic: { tam: 25, competitors: "Limited", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "JOD fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "ISTD",
                portal: "jofotara.gov.jo"
            },
            {
                country: "Qatar",
                flag: "üá∂üá¶",
                region: "MENA",
                gdp: 235,
                b2b: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                b2g: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                b2c: { status: "N/A", date: "-", detail: "No mandate announced" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 100, competitors: "Major ERPs present", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "GTA",
                portal: "gta.gov.qa"
            },
            {
                country: "Bahrain",
                flag: "üáßüá≠",
                region: "MENA",
                gdp: 44,
                b2b: { status: "N/A", date: "-", detail: "No e-invoicing mandate" },
                b2g: { status: "N/A", date: "-", detail: "No e-invoicing mandate" },
                b2c: { status: "N/A", date: "-", detail: "No e-invoicing mandate" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 20, competitors: "Limited", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "NBR",
                portal: "nbr.gov.bh"
            },
            {
                country: "Kuwait",
                flag: "üá∞üáº",
                region: "MENA",
                gdp: 165,
                b2b: { status: "Voluntary", date: "-", detail: "No mandate, VAT not yet implemented" },
                b2g: { status: "Voluntary", date: "-", detail: "No mandate" },
                b2c: { status: "N/A", date: "-", detail: "No VAT system" },
                model: ["N/A"],
                keyDates: ["No announced timeline", "VAT implementation pending"],
                strategic: { tam: 60, competitors: "Limited", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "Ministry of Finance",
                portal: "mof.gov.kw"
            },
            {
                country: "Morocco",
                flag: "üá≤üá¶",
                region: "MENA",
                gdp: 143,
                b2b: { status: "Planned", date: "2026", detail: "Voluntary phase ongoing, mandate expected 2026" },
                b2g: { status: "Mandatory", date: "2024", detail: "Required for government contracts" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2024: B2G mandatory", "2026: Expected B2B mandate"],
                strategic: { tam: 60, competitors: "Limited", potential: 3, barriers: "Low", partnership: "Recommended", urgency: "Medium" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Medium" },
                taxAuthority: "DGI",
                portal: "tax.gov.ma"
            },
            {
                country: "Tunisia",
                flag: "üáπüá≥",
                region: "MENA",
                gdp: 49,
                b2b: { status: "Planned", date: "2026", detail: "e-Fatourati system planned" },
                b2g: { status: "Planned", date: "2025", detail: "Government procurement first" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["2025: B2G expected", "2026: B2B expected"],
                strategic: { tam: 20, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Medium" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Low" },
                taxAuthority: "DGI Tunisia",
                portal: "finances.gov.tn"
            },
            {
                country: "Iraq",
                flag: "üáÆüá∂",
                region: "MENA",
                gdp: 267,
                b2b: { status: "N/A", date: "-", detail: "No e-invoicing framework" },
                b2g: { status: "N/A", date: "-", detail: "No e-invoicing framework" },
                b2c: { status: "N/A", date: "-", detail: "No e-invoicing framework" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 40, competitors: "None", potential: 2, barriers: "High", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "N/A" },
                taxAuthority: "General Commission for Taxes",
                portal: "tax.mof.gov.iq"
            },

            // Europe Region (27 countries)
            {
                country: "Italy",
                flag: "üáÆüáπ",
                region: "Europe",
                gdp: 2186,
                b2b: { status: "Mandatory", date: "2019", detail: "SDI clearance model" },
                b2g: { status: "Mandatory", date: "2015", detail: "FatturaPA format required" },
                b2c: { status: "Mandatory", date: "2019", detail: "Healthcare B2C permanently banned (Jun 2025)" },
                model: ["Clearance"],
                keyDates: ["2015: B2G", "2019: B2B/B2C", "Jun 2025: Healthcare B2C ban permanent"],
                strategic: { tam: 800, competitors: "Aruba, TeamSystem, InfoCert", potential: 5, barriers: "High", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "90-180% of VAT", threshold: "All VAT-registered", realtime: "Yes", residency: "No", complexity: "High" },
                taxAuthority: "Agenzia delle Entrate",
                portal: "fatturapa.gov.it",
                providers: "TeamSystem 25%, Aruba 20%, EDICOM 10%"
            },
            {
                country: "Germany",
                flag: "üá©üá™",
                region: "Europe",
                gdp: 4456,
                b2b: { status: "Mandatory", date: "Jan 2025", detail: "Receive mandatory Jan 2025; Issue: 2027 (>‚Ç¨800K), 2028 (all)" },
                b2g: { status: "Mandatory", date: "2020", detail: "XRechnung format" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol", "CTC"],
                keyDates: ["Jan 2025: B2B starts (transitional)", "Jan 2027: >EUR 800K turnover", "Jan 2028: All businesses"],
                strategic: { tam: 1500, competitors: "SAP, DATEV, Seeburger", potential: 5, barriers: "Medium", partnership: "Recommended", urgency: "High" },
                compliance: { accreditation: "No", penalties: "Standard VAT penalties", threshold: "Phased by turnover", realtime: "No", residency: "No", complexity: "Medium" },
                taxAuthority: "BZSt",
                portal: "xrechnung.de",
                providers: "SAP 40%, DATEV 25%, Basware 8%"
            },
            {
                country: "France",
                flag: "üá´üá∑",
                region: "Europe",
                gdp: 3049,
                b2b: { status: "Planned", date: "Sep 2026", detail: "Large enterprises first, SMEs 2027" },
                b2g: { status: "Mandatory", date: "2020", detail: "Chorus Pro platform" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol", "CTC"],
                keyDates: ["Sep 2026: Large enterprises receive", "Sep 2026: All can issue", "Sep 2027: SMEs must issue"],
                strategic: { tam: 1200, competitors: "Generix, Cegedim, Esker", potential: 5, barriers: "Medium", partnership: "Recommended", urgency: "High" },
                compliance: { accreditation: "PDP certification required", penalties: "EUR 15 per invoice (max EUR 15K)", threshold: "All VAT-registered", realtime: "Yes (e-reporting)", residency: "No", complexity: "High" },
                taxAuthority: "DGFiP",
                portal: "chorus-pro.gouv.fr",
                providers: "Pagero (1st PA), Sovos, Esker"
            },
            {
                country: "Spain",
                flag: "üá™üá∏",
                region: "Europe",
                gdp: 1582,
                b2b: { status: "Planned", date: "2027", detail: "Pending Royal Decree approval" },
                b2g: { status: "Mandatory", date: "2015", detail: "FACe platform" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["2015: B2G", "2027: B2B expected (>EUR 8M)", "2028: All businesses"],
                strategic: { tam: 600, competitors: "Seres, Edicom, B2Brouter", potential: 5, barriers: "Medium", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "Phased by turnover", realtime: "No", residency: "No", complexity: "Medium" },
                taxAuthority: "AEAT",
                portal: "face.gob.es",
                providers: "EDICOM 30%, Sage 18%, Holded 10%"
            },
            {
                country: "Poland",
                flag: "üáµüá±",
                region: "Europe",
                gdp: 842,
                b2b: { status: "Planned", date: "Feb 2026", detail: "KSeF mandatory from Feb 2026 (large) or Apr 2026 (others)" },
                b2g: { status: "Mandatory", date: "2019", detail: "PEF platform" },
                b2c: { status: "Voluntary", date: "2026", detail: "Allowed but not mandatory from 2026" },
                model: ["Clearance"],
                keyDates: ["Feb 2026: Large enterprises", "Apr 2026: All VAT-registered", "Voluntary KSeF available now"],
                strategic: { tam: 400, competitors: "Comarch, Asseco", potential: 5, barriers: "Medium", partnership: "No", urgency: "High" },
                compliance: { accreditation: "No", penalties: "Up to 100% of VAT", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes (KSeF)", complexity: "High" },
                taxAuthority: "KAS",
                portal: "ksef.mf.gov.pl",
                providers: "Comarch 35%, SAP 15%, Symfonia 12%"
            },
            {
                country: "Belgium",
                flag: "üáßüá™",
                region: "Europe",
                gdp: 627,
                b2b: { status: "Planned", date: "Jan 2026", detail: "Mandatory for all domestic B2B from Jan 2026" },
                b2g: { status: "Mandatory", date: "2022", detail: "Mercurius platform" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["Jan 2026: B2B mandatory", "Peppol BIS 3.0 format required"],
                strategic: { tam: 250, competitors: "Basware, Unifiedpost", potential: 4, barriers: "Low", partnership: "No", urgency: "High" },
                compliance: { accreditation: "No", penalties: "Standard VAT penalties", threshold: "All VAT-registered", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "SPF Finances",
                portal: "mercurius.belgium.be"
            },
            {
                country: "United Kingdom",
                flag: "üá¨üáß",
                region: "Europe",
                gdp: 3332,
                b2b: { status: "Planned", date: "Apr 2029", detail: "All VAT invoices in electronic format" },
                b2g: { status: "Mandatory", date: "2019", detail: "NHS England suppliers" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["Apr 2029: All VAT invoices electronic", "Budget 2026: Implementation roadmap"],
                strategic: { tam: 1000, competitors: "Tungsten, Tradeshift, SAP", potential: 5, barriers: "Low", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "All VAT-registered", realtime: "TBD", residency: "No", complexity: "Medium" },
                taxAuthority: "HMRC",
                portal: "gov.uk/hmrc"
            },
            {
                country: "Romania",
                flag: "üá∑üá¥",
                region: "Europe",
                gdp: 351,
                b2b: { status: "Mandatory", date: "2024", detail: "RO e-Factura system" },
                b2g: { status: "Mandatory", date: "2022", detail: "SPV platform" },
                b2c: { status: "Mandatory", date: "2025", detail: "e-Reporting mandatory from Jan 2025" },
                model: ["Clearance", "CTC"],
                keyDates: ["Jul 2024: B2B high-risk", "Jan 2025: All B2B", "Jan 2025: B2C e-reporting"],
                strategic: { tam: 150, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "RON 5,000-10,000 per invoice", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "ANAF",
                portal: "efactura.mfinante.gov.ro"
            },
            {
                country: "Hungary",
                flag: "üá≠üá∫",
                region: "Europe",
                gdp: 212,
                b2b: { status: "Mandatory", date: "Jul 2025", detail: "Electricity/gas traders; water utilities Jan 2026" },
                b2g: { status: "Mandatory", date: "Jul 2025", detail: "Same as B2B for utilities" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["Jul 2018: RTIR started", "Jul 2025: Utilities e-invoicing", "Jan 2026: Water utilities"],
                strategic: { tam: 80, competitors: "Local providers", potential: 3, barriers: "Medium", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "No", penalties: "HUF 500K per invoice", threshold: "Utilities first, others TBD", realtime: "Yes (RTIR)", residency: "No", complexity: "Medium" },
                taxAuthority: "NAV",
                portal: "onlineszamla.nav.gov.hu"
            },
            {
                country: "Netherlands",
                flag: "üá≥üá±",
                region: "Europe",
                gdp: 1092,
                b2b: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                b2g: { status: "Mandatory", date: "2017", detail: "Peppol required" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2017: B2G Peppol", "EU ViDA 2030 expected impact"],
                strategic: { tam: 400, competitors: "Exact, Basware, Tradeshift", potential: 4, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "Standard VAT penalties", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "Belastingdienst",
                portal: "belastingdienst.nl"
            },
            {
                country: "Sweden",
                flag: "üá∏üá™",
                region: "Europe",
                gdp: 593,
                b2b: { status: "Voluntary", date: "-", detail: "Looking at ViDA 2030" },
                b2g: { status: "Mandatory", date: "2019", detail: "Peppol/SFTI format" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2019: B2G mandatory", "2030: Potential B2B via ViDA"],
                strategic: { tam: 200, competitors: "Pagero, Basware", potential: 4, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "Skatteverket",
                portal: "skatteverket.se"
            },
            {
                country: "Norway",
                flag: "üá≥üá¥",
                region: "Europe",
                gdp: 485,
                b2b: { status: "Planned", date: "Jan 2028", detail: "Send e-invoices; receive by Jan 2030" },
                b2g: { status: "Mandatory", date: "2019", detail: "EHF format required" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2019: B2G", "Jan 2028: B2B send", "Jan 2030: B2B receive"],
                strategic: { tam: 150, competitors: "Visma, Basware", potential: 3, barriers: "Low", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "No", penalties: "TBD", threshold: "Enterprises with bookkeeping obligations", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "Skatteetaten",
                portal: "skatteetaten.no"
            },
            {
                country: "Ireland",
                flag: "üáÆüá™",
                region: "Europe",
                gdp: 594,
                b2b: { status: "Planned", date: "Nov 2028", detail: "Phased: Large Nov 2028, Intra-EU Nov 2029, All Jul 2030" },
                b2g: { status: "Voluntary", date: "-", detail: "Not mandatory" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["Nov 2028: Large corporates", "Nov 2029: Intra-EU VAT-registered", "Jul 2030: All intra-EU"],
                strategic: { tam: 200, competitors: "SAP, Oracle", potential: 4, barriers: "Low", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "Phased rollout", realtime: "Yes", residency: "No", complexity: "Medium" },
                taxAuthority: "Revenue",
                portal: "revenue.ie"
            },
            {
                country: "Austria",
                flag: "üá¶üáπ",
                region: "Europe",
                gdp: 516,
                b2b: { status: "Voluntary", date: "-", detail: "Not mandated" },
                b2g: { status: "Mandatory", date: "2014", detail: "ebInterface format" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2014: B2G mandatory"],
                strategic: { tam: 150, competitors: "BMD, SAP", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "BMF",
                portal: "bmf.gv.at"
            },
            {
                country: "Switzerland",
                flag: "üá®üá≠",
                region: "Europe",
                gdp: 906,
                b2b: { status: "Voluntary", date: "-", detail: "Confederation requires from suppliers" },
                b2g: { status: "Voluntary", date: "-", detail: "Required by Confederation under conditions" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["No mandate timeline"],
                strategic: { tam: 300, competitors: "Abacus, SAP", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "N/A", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "FTA",
                portal: "estv.admin.ch"
            },
            {
                country: "Finland",
                flag: "üá´üáÆ",
                region: "Europe",
                gdp: 305,
                b2b: { status: "Voluntary", date: "-", detail: "Buyer can require e-invoice (EUR 10K threshold)" },
                b2g: { status: "Voluntary", date: "-", detail: "State has right to demand e-invoices" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["ViDA 2030 for cross-border"],
                strategic: { tam: 100, competitors: "Basware, Maventa", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "EUR 10K (buyer request)", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "Vero",
                portal: "vero.fi"
            },
            {
                country: "Denmark",
                flag: "üá©üá∞",
                region: "Europe",
                gdp: 406,
                b2b: { status: "Voluntary", date: "-", detail: "Digital bookkeeping required" },
                b2g: { status: "Mandatory", date: "2005", detail: "OIOUBL/NemHandel" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2005: B2G", "2024-26: Digital bookkeeping phased"],
                strategic: { tam: 120, competitors: "e-conomic, Visma", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "Skattestyrelsen",
                portal: "skat.dk"
            },
            {
                country: "Portugal",
                flag: "üáµüáπ",
                region: "Europe",
                gdp: 287,
                b2b: { status: "Voluntary", date: "-", detail: "ViDA 2026+ expected" },
                b2g: { status: "Mandatory", date: "2021", detail: "SMEs added Dec 2025" },
                b2c: { status: "Voluntary", date: "-", detail: "QES required from Jan 2027" },
                model: ["Peppol"],
                keyDates: ["2021: B2G", "Dec 2025: SMEs in B2G", "Jan 2027: QES requirement"],
                strategic: { tam: 100, competitors: "Primavera, PHC", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "AT",
                portal: "portaldasfinancas.gov.pt"
            },
            {
                country: "Greece",
                flag: "üá¨üá∑",
                region: "Europe",
                gdp: 239,
                b2b: { status: "Planned", date: "Feb 2026", detail: "Large >EUR 1M from Feb 2026, others Oct 2026" },
                b2g: { status: "Mandatory", date: "2023", detail: "Phased rollout to agencies" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["2020: myDATA launched", "Feb 2026: Large B2B", "Oct 2026: All B2B"],
                strategic: { tam: 80, competitors: "SoftOne, Entersoft", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "High" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "EUR 1M first wave", realtime: "Yes (myDATA)", residency: "No", complexity: "Medium" },
                taxAuthority: "AADE",
                portal: "mydata.aade.gr"
            },
            {
                country: "Czech Republic",
                flag: "üá®üáø",
                region: "Europe",
                gdp: 330,
                b2b: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                b2g: { status: "Voluntary", date: "-", detail: "Not mandatory" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 80, competitors: "ABRA, SAP", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "N/A", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "FS",
                portal: "financnisprava.cz"
            },
            {
                country: "Slovakia",
                flag: "üá∏üá∞",
                region: "Europe",
                gdp: 133,
                b2b: { status: "Planned", date: "Jan 2027", detail: "Cross-border 2030" },
                b2g: { status: "Planned", date: "Jan 2027", detail: "Same as B2B" },
                b2c: { status: "N/A", date: "-", detail: "Excluded from mandate" },
                model: ["CTC"],
                keyDates: ["2026: Transitional testing", "Jan 2027: Domestic B2B/B2G", "2030: Cross-border"],
                strategic: { tam: 50, competitors: "Local providers", potential: 3, barriers: "Low", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "All VAT-registered", realtime: "TBD", residency: "TBD", complexity: "Medium" },
                taxAuthority: "FS SR",
                portal: "financnasprava.sk"
            },
            {
                country: "Slovenia",
                flag: "üá∏üáÆ",
                region: "Europe",
                gdp: 68,
                b2b: { status: "Planned", date: "Jun 2026", detail: "Expected mandatory" },
                b2g: { status: "Mandatory", date: "2015", detail: "UJP e-Racun platform" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2015: B2G", "Jun 2026: B2B expected"],
                strategic: { tam: 25, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "TBD", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "FURS",
                portal: "fu.gov.si"
            },
            {
                country: "Croatia",
                flag: "üá≠üá∑",
                region: "Europe",
                gdp: 82,
                b2b: { status: "Planned", date: "Jan 2026", detail: "VAT-registered; non-VAT issue from Jan 2027" },
                b2g: { status: "Mandatory", date: "2019", detail: "Updated with fiscalization Jan 2026" },
                b2c: { status: "Voluntary", date: "-", detail: "Fiscalization impact from Jan 2026" },
                model: ["CTC"],
                keyDates: ["Jun 2025: Law published", "Jan 2026: B2B mandatory", "Jan 2027: Non-VAT businesses"],
                strategic: { tam: 30, competitors: "Local providers", potential: 3, barriers: "Low", partnership: "No", urgency: "High" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "All VAT-registered", realtime: "Yes (fiscalization)", residency: "No", complexity: "Medium" },
                taxAuthority: "PU",
                portal: "porezna-uprava.hr"
            },
            {
                country: "Bulgaria",
                flag: "üáßüá¨",
                region: "Europe",
                gdp: 103,
                b2b: { status: "Voluntary", date: "-", detail: "Not mandated" },
                b2g: { status: "Mandatory", date: "2019", detail: "State bodies must accept" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2019: B2G acceptance"],
                strategic: { tam: 30, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "NRA",
                portal: "nra.bg"
            },
            {
                country: "Latvia",
                flag: "üá±üáª",
                region: "Europe",
                gdp: 44,
                b2b: { status: "Planned", date: "Jan 2028", detail: "Delayed from Jan 2026 per Jun 2025 amendment" },
                b2g: { status: "Mandatory", date: "2025", detail: "Mandatory from 2025" },
                b2c: { status: "N/A", date: "-", detail: "Not applicable" },
                model: ["Peppol"],
                keyDates: ["2025: B2G mandatory", "Jun 2025: B2B delay adopted", "Jan 2028: B2B mandatory"],
                strategic: { tam: 15, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "TBD", threshold: "All businesses", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "VID",
                portal: "vid.gov.lv"
            },
            {
                country: "Lithuania",
                flag: "üá±üáπ",
                region: "Europe",
                gdp: 80,
                b2b: { status: "N/A", date: "-", detail: "No plans before Jul 2030" },
                b2g: { status: "Mandatory", date: "2017", detail: "Required for government" },
                b2c: { status: "N/A", date: "-", detail: "Not applicable" },
                model: ["Peppol"],
                keyDates: ["2017: B2G", "2030: Potential B2B via ViDA"],
                strategic: { tam: 25, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "VMI",
                portal: "vmi.lt"
            },
            {
                country: "Estonia",
                flag: "üá™üá™",
                region: "Europe",
                gdp: 41,
                b2b: { status: "Voluntary", date: "Jul 2025", detail: "Buyer's choice principle" },
                b2g: { status: "Mandatory", date: "2019", detail: "Buyer's choice added Jul 2025" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2019: B2G", "Jul 2025: Buyer's choice principle"],
                strategic: { tam: 15, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "Upon buyer request", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "EMTA",
                portal: "emta.ee"
            },
            {
                country: "Luxembourg",
                flag: "üá±üá∫",
                region: "Europe",
                gdp: 89,
                b2b: { status: "Voluntary", date: "-", detail: "Not mandated" },
                b2g: { status: "Mandatory", date: "2022", detail: "Peppol required" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["2022: B2G"],
                strategic: { tam: 30, competitors: "International providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "B2G only", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "ACD",
                portal: "impotsdirects.public.lu"
            },
            {
                country: "Moldova",
                flag: "üá≤üá©",
                region: "Europe",
                gdp: 16,
                b2b: { status: "Planned", date: "2025", detail: "E-invoicing pilot under development" },
                b2g: { status: "Planned", date: "2025", detail: "Government procurement focus" },
                b2c: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                model: ["CTC"],
                keyDates: ["2025: Pilot expected", "Full mandate TBD"],
                strategic: { tam: 5, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Low" },
                taxAuthority: "State Tax Service",
                portal: "sfs.md"
            },
            {
                country: "Bosnia & Herzegovina",
                flag: "üáßüá¶",
                region: "Europe",
                gdp: 25,
                b2b: { status: "Voluntary", date: "-", detail: "No e-invoicing mandate" },
                b2g: { status: "Voluntary", date: "-", detail: "No e-invoicing mandate" },
                b2c: { status: "Voluntary", date: "-", detail: "Fiscal receipts required" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 8, competitors: "Limited", potential: 2, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "ITA BiH",
                portal: "uino.gov.ba"
            },
            {
                country: "Armenia",
                flag: "üá¶üá≤",
                region: "Europe",
                gdp: 24,
                b2b: { status: "Voluntary", date: "-", detail: "E-invoicing optional via tax portal" },
                b2g: { status: "Voluntary", date: "-", detail: "Available but not mandatory" },
                b2c: { status: "Voluntary", date: "-", detail: "Fiscal receipts required" },
                model: ["CTC"],
                keyDates: ["Voluntary e-invoicing available"],
                strategic: { tam: 8, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "N/A", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "State Revenue Committee",
                portal: "petekamutner.am"
            },
            {
                country: "Azerbaijan",
                flag: "üá¶üáø",
                region: "Europe",
                gdp: 79,
                b2b: { status: "Mandatory", date: "2019", detail: "E-invoice mandatory via tax portal" },
                b2g: { status: "Mandatory", date: "2019", detail: "Required for all government suppliers" },
                b2c: { status: "Voluntary", date: "-", detail: "Fiscal receipts for retail" },
                model: ["CTC"],
                keyDates: ["2019: Mandatory for most businesses"],
                strategic: { tam: 25, competitors: "Limited", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "AZN fines", threshold: "Most VAT-registered", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "State Tax Service",
                portal: "taxes.gov.az"
            },

            // APAC Region (17 countries)
            {
                country: "India",
                flag: "üáÆüá≥",
                region: "APAC",
                gdp: 3730,
                b2b: { status: "Mandatory", date: "2020", detail: "Phased by turnover, now INR 5Cr+" },
                b2g: { status: "Mandatory", date: "2020", detail: "Same as B2B" },
                b2c: { status: "N/A", date: "-", detail: "Not applicable" },
                model: ["Clearance", "CTC"],
                keyDates: ["Oct 2020: Started >INR 500Cr", "Aug 2023: >INR 5Cr threshold"],
                strategic: { tam: 1500, competitors: "Clear, Tally, Zoho", potential: 5, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "100% of tax + interest", threshold: "INR 5Cr+", realtime: "Yes (IRP)", residency: "No", complexity: "Medium" },
                taxAuthority: "GSTN",
                portal: "einvoice.gst.gov.in",
                providers: "ClearTax 35%, Tally 25%, Zoho 12%"
            },
            {
                country: "China",
                flag: "üá®üá≥",
                region: "APAC",
                gdp: 17963,
                b2b: { status: "Voluntary", date: "-", detail: "Digitalized e-invoices nationwide Dec 2024" },
                b2g: { status: "Voluntary", date: "-", detail: "Same as B2B" },
                b2c: { status: "Voluntary", date: "-", detail: "General VAT e-Fapiao" },
                model: ["CTC"],
                keyDates: ["2015: Normal VAT e-invoices", "2021: Special VAT e-invoices", "Dec 2024: Fully digitalized"],
                strategic: { tam: 5000, competitors: "Baiwang, Aisino", potential: 5, barriers: "High", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "Tax penalties", threshold: "No mandate", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "STA",
                portal: "chinatax.gov.cn"
            },
            {
                country: "Japan",
                flag: "üáØüáµ",
                region: "APAC",
                gdp: 4213,
                b2b: { status: "Voluntary", date: "-", detail: "Qualified Invoice System (JIS) Oct 2023" },
                b2g: { status: "Voluntary", date: "-", detail: "Same as B2B" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Post-Audit"],
                keyDates: ["Oct 2023: JIS launched (not e-invoicing mandate)"],
                strategic: { tam: 1200, competitors: "SAP, Oracle", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Registration required", penalties: "Tax deduction denied", threshold: "All businesses", realtime: "No", residency: "No", complexity: "Medium" },
                taxAuthority: "NTA",
                portal: "nta.go.jp"
            },
            {
                country: "South Korea",
                flag: "üá∞üá∑",
                region: "APAC",
                gdp: 1713,
                b2b: { status: "Mandatory", date: "2011", detail: "All corporations since 2011" },
                b2g: { status: "Mandatory", date: "2011", detail: "Same as B2B" },
                b2c: { status: "N/A", date: "-", detail: "Not applicable" },
                model: ["CTC"],
                keyDates: ["2011: Corporations", "2012: Sole proprietors >KRW 300M", "2014: >KRW 100M"],
                strategic: { tam: 500, competitors: "Samsung SDS, LG CNS", potential: 4, barriers: "High", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "2% of transaction value", threshold: "All businesses", realtime: "Yes", residency: "No", complexity: "Medium" },
                taxAuthority: "NTS",
                portal: "hometax.go.kr"
            },
            {
                country: "Indonesia",
                flag: "üáÆüá©",
                region: "APAC",
                gdp: 1417,
                b2b: { status: "Mandatory", date: "2014", detail: "e-Faktur system" },
                b2g: { status: "Mandatory", date: "2014", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2014", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["Apr 2014: Selected taxpayers", "Jul 2016: All taxpayers", "2025: Coretax system"],
                strategic: { tam: 600, competitors: "Local providers", potential: 5, barriers: "High", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "2% of tax base", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "DJP",
                portal: "pajak.go.id"
            },
            {
                country: "Malaysia",
                flag: "üá≤üáæ",
                region: "APAC",
                gdp: 434,
                b2b: { status: "Mandatory", date: "Aug 2024", detail: "Phased by turnover through Jul 2025" },
                b2g: { status: "Mandatory", date: "Aug 2024", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "Aug 2024", detail: "Same requirements" },
                model: ["Clearance", "CTC"],
                keyDates: ["Aug 2024: >RM 100M", "Jan 2025: >RM 25M", "Jul 2025: All (>RM 500K exempt)"],
                strategic: { tam: 200, competitors: "Local providers emerging", potential: 5, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "RM 200-20,000 per invoice", threshold: "RM 500K+ exempt", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "LHDN/IRBM",
                portal: "myinvois.hasil.gov.my"
            },
            {
                country: "Singapore",
                flag: "üá∏üá¨",
                region: "APAC",
                gdp: 501,
                b2b: { status: "Mandatory", date: "Nov 2025", detail: "New GST registrants; Apr 2026 all new voluntary" },
                b2g: { status: "Voluntary", date: "-", detail: "Not mandatory" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["May 2025: Soft launch", "Nov 2025: New GST registrants", "Apr 2026: All new voluntary registrants"],
                strategic: { tam: 200, competitors: "SAP, Oracle", potential: 4, barriers: "Low", partnership: "No", urgency: "Medium" },
                compliance: { accreditation: "No", penalties: "Standard GST penalties", threshold: "New registrants first", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "IRAS",
                portal: "iras.gov.sg"
            },
            {
                country: "Australia",
                flag: "üá¶üá∫",
                region: "APAC",
                gdp: 1724,
                b2b: { status: "Voluntary", date: "-", detail: "B2G expected first, B2B to follow" },
                b2g: { status: "Voluntary", date: "-", detail: "Expected but not confirmed" },
                b2c: { status: "N/A", date: "-", detail: "No expectation of mandate" },
                model: ["Peppol"],
                keyDates: ["No confirmed timeline"],
                strategic: { tam: 500, competitors: "MYOB, Xero, SAP", potential: 4, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "N/A", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "ATO",
                portal: "ato.gov.au"
            },
            {
                country: "Vietnam",
                flag: "üáªüá≥",
                region: "APAC",
                gdp: 449,
                b2b: { status: "Mandatory", date: "Jul 2022", detail: "All businesses with exceptions" },
                b2g: { status: "Mandatory", date: "Jul 2022", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "Jul 2022", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["Jul 2022: Mandatory"],
                strategic: { tam: 150, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "VND fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "GDT",
                portal: "hoadondientu.gdt.gov.vn"
            },
            {
                country: "Philippines",
                flag: "üáµüá≠",
                region: "APAC",
                gdp: 435,
                b2b: { status: "Mandatory", date: "2024", detail: "Top 100 taxpayers; expanding" },
                b2g: { status: "Mandatory", date: "2024", detail: "Same as B2B for large taxpayers" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["2022: Pilot", "2024: Top 100 mandatory", "Expanding scope"],
                strategic: { tam: 100, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "PHP fines", threshold: "Top taxpayers", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "BIR",
                portal: "bir.gov.ph"
            },
            {
                country: "Thailand",
                flag: "üáπüá≠",
                region: "APAC",
                gdp: 548,
                b2b: { status: "Voluntary", date: "-", detail: "e-Tax Invoice available" },
                b2g: { status: "Voluntary", date: "-", detail: "Not mandatory" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Post-Audit"],
                keyDates: ["2012: e-Tax Invoice launched", "No mandate timeline"],
                strategic: { tam: 200, competitors: "SAP, Oracle", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "N/A", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "RD",
                portal: "rd.go.th"
            },
            {
                country: "Taiwan",
                flag: "üáπüáº",
                region: "APAC",
                gdp: 790,
                b2b: { status: "Voluntary", date: "-", detail: "eGUI system available" },
                b2g: { status: "Voluntary", date: "-", detail: "Not mandatory" },
                b2c: { status: "Planned", date: "2026", detail: "Cloud-based GUI for foreign e-commerce" },
                model: ["CTC"],
                keyDates: ["Jan 2026: MIG 4.0 standard", "2026: Foreign e-commerce B2C"],
                strategic: { tam: 150, competitors: "Local providers", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "Standard penalties", threshold: "Foreign e-commerce", realtime: "No", residency: "No", complexity: "Medium" },
                taxAuthority: "MOF",
                portal: "einvoice.nat.gov.tw"
            },
            {
                country: "Bangladesh",
                flag: "üáßüá©",
                region: "APAC",
                gdp: 446,
                b2b: { status: "Planned", date: "2025", detail: "NBR expanding digitalization" },
                b2g: { status: "Planned", date: "2025", detail: "Government procurement" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["2024: Pilot programs", "2025: Expected expansion"],
                strategic: { tam: 80, competitors: "Limited", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Medium" },
                taxAuthority: "NBR",
                portal: "nbr.gov.bd"
            },
            {
                country: "Pakistan",
                flag: "üáµüá∞",
                region: "APAC",
                gdp: 338,
                b2b: { status: "Mandatory", date: "2024", detail: "Tier 1 retailers; expanding" },
                b2g: { status: "Mandatory", date: "2024", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2024", detail: "POS integration required" },
                model: ["CTC"],
                keyDates: ["2024: Tier 1 retailers", "Expanding to other sectors"],
                strategic: { tam: 60, competitors: "Limited", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "PKR fines", threshold: "Tier 1 first", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "FBR",
                portal: "fbr.gov.pk"
            },
            {
                country: "New Zealand",
                flag: "üá≥üáø",
                region: "APAC",
                gdp: 253,
                b2b: { status: "Voluntary", date: "-", detail: "Not mandated" },
                b2g: { status: "Planned", date: "Jan 2026", detail: ">2,000 invoices/year agencies" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["Peppol"],
                keyDates: ["Jan 2026: Agencies >2K invoices", "Jan 2027: Large suppliers"],
                strategic: { tam: 80, competitors: "Xero, MYOB", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "N/A", threshold: "Government agencies", realtime: "No", residency: "No", complexity: "Low" },
                taxAuthority: "IRD",
                portal: "ird.govt.nz"
            },
            {
                country: "Sri Lanka",
                flag: "üá±üá∞",
                region: "APAC",
                gdp: 74,
                b2b: { status: "Planned", date: "2025", detail: "Digitalization in progress" },
                b2g: { status: "Planned", date: "2025", detail: "Government focus" },
                b2c: { status: "Voluntary", date: "-", detail: "Not mandated" },
                model: ["CTC"],
                keyDates: ["2025: Expected launch"],
                strategic: { tam: 20, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Low" },
                taxAuthority: "IRD",
                portal: "ird.gov.lk"
            },
            {
                country: "Cambodia",
                flag: "üá∞üá≠",
                region: "APAC",
                gdp: 31,
                b2b: { status: "Planned", date: "2027", detail: "Large taxpayers first, medium 2028" },
                b2g: { status: "Mandatory", date: "2025", detail: "National-level entities; expanding 2026-28" },
                b2c: { status: "Voluntary", date: "2027-28", detail: "Voluntary planned" },
                model: ["CTC"],
                keyDates: ["2025: B2G national entities", "2026: 12 subnational entities", "2027-28: Large/medium B2B"],
                strategic: { tam: 10, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Low" },
                taxAuthority: "GDT",
                portal: "tax.gov.kh"
            },
            {
                country: "Kazakhstan",
                flag: "üá∞üáø",
                region: "APAC",
                gdp: 245,
                b2b: { status: "Mandatory", date: "2020", detail: "E-invoicing mandatory for VAT payers" },
                b2g: { status: "Mandatory", date: "2020", detail: "Same as B2B" },
                b2c: { status: "Voluntary", date: "-", detail: "Fiscal receipts for retail" },
                model: ["CTC"],
                keyDates: ["2020: Mandatory for VAT payers", "Ongoing expansion"],
                strategic: { tam: 80, competitors: "Local providers", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "KZT fines", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "State Revenue Committee",
                portal: "kgd.gov.kz"
            },

            // LATAM Region (9 countries)
            {
                country: "Brazil",
                flag: "üáßüá∑",
                region: "LATAM",
                gdp: 2173,
                b2b: { status: "Mandatory", date: "2005", detail: "NF-e for goods, NFS-e for services" },
                b2g: { status: "Mandatory", date: "2005", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2005", detail: "NFC-e for retail" },
                model: ["Clearance"],
                keyDates: ["2005: Started", "Jan 2026: NFS-e nationwide + Tax Reform (IBS, CBS)"],
                strategic: { tam: 800, competitors: "Nota Fiscal, local providers", potential: 5, barriers: "High", partnership: "Required", urgency: "Medium" },
                compliance: { accreditation: "Yes", penalties: "Significant fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Very High" },
                taxAuthority: "RFB",
                portal: "nfe.fazenda.gov.br",
                providers: "Sovos 25%, EDICOM 18%"
            },
            {
                country: "Mexico",
                flag: "üá≤üáΩ",
                region: "LATAM",
                gdp: 1789,
                b2b: { status: "Mandatory", date: "2014", detail: "CFDI 4.0 current version" },
                b2g: { status: "Mandatory", date: "2014", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2018", detail: "Simplified invoices" },
                model: ["Clearance"],
                keyDates: ["2014: CFDI launched", "2022: CFDI 4.0"],
                strategic: { tam: 600, competitors: "Aspel, CONTPAQi", potential: 5, barriers: "High", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "PAC certification required", penalties: "MXN fines per invoice", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "SAT",
                portal: "sat.gob.mx",
                providers: "Edicom 20%, Sovos 15%"
            },
            {
                country: "Chile",
                flag: "üá®üá±",
                region: "LATAM",
                gdp: 344,
                b2b: { status: "Mandatory", date: "2014", detail: "DTE system" },
                b2g: { status: "Mandatory", date: "2018", detail: "Required for government" },
                b2c: { status: "Mandatory", date: "2021", detail: "Boleta electr√≥nica" },
                model: ["Clearance"],
                keyDates: ["2014: B2B", "2018: B2G", "2021: B2C"],
                strategic: { tam: 100, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "UF fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "SII",
                portal: "sii.cl"
            },
            {
                country: "Argentina",
                flag: "üá¶üá∑",
                region: "LATAM",
                gdp: 641,
                b2b: { status: "Mandatory", date: "2019", detail: "Factura electr√≥nica" },
                b2g: { status: "Mandatory", date: "2019", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2019", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["2019: Mandatory for all"],
                strategic: { tam: 200, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "ARS fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "AFIP",
                portal: "afip.gob.ar"
            },
            {
                country: "Colombia",
                flag: "üá®üá¥",
                region: "LATAM",
                gdp: 363,
                b2b: { status: "Mandatory", date: "2019", detail: "Facturaci√≥n electr√≥nica" },
                b2g: { status: "Mandatory", date: "2019", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2019", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["2019: Full mandate"],
                strategic: { tam: 120, competitors: "Local providers", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "COP fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "DIAN",
                portal: "dian.gov.co"
            },
            {
                country: "Peru",
                flag: "üáµüá™",
                region: "LATAM",
                gdp: 268,
                b2b: { status: "Mandatory", date: "2018", detail: "SEE (Sistema de Emisi√≥n Electr√≥nica)" },
                b2g: { status: "Mandatory", date: "2018", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2018", detail: "Boletas electr√≥nicas" },
                model: ["Clearance"],
                keyDates: ["2018: Full mandate"],
                strategic: { tam: 80, competitors: "Local providers", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "PEN fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "SUNAT",
                portal: "sunat.gob.pe"
            },
            {
                country: "Ecuador",
                flag: "üá™üá®",
                region: "LATAM",
                gdp: 118,
                b2b: { status: "Mandatory", date: "2014", detail: "Full rollout by Nov 2022" },
                b2g: { status: "Mandatory", date: "2014", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2014", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["2014: Phased start", "Nov 2022: Full mandate"],
                strategic: { tam: 40, competitors: "Local providers", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "USD fines", threshold: "All obligated taxpayers", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "SRI",
                portal: "sri.gob.ec"
            },
            {
                country: "Uruguay",
                flag: "üá∫üáæ",
                region: "LATAM",
                gdp: 77,
                b2b: { status: "Mandatory", date: "2012", detail: "CFE (Comprobantes Fiscales Electr√≥nicos)" },
                b2g: { status: "Mandatory", date: "2012", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2012", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["2012: Full mandate"],
                strategic: { tam: 25, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "UYU fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "DGI",
                portal: "dgi.gub.uy"
            },
            {
                country: "Costa Rica",
                flag: "üá®üá∑",
                region: "LATAM",
                gdp: 69,
                b2b: { status: "Mandatory", date: "2018", detail: "Factura electr√≥nica" },
                b2g: { status: "Mandatory", date: "2018", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2018", detail: "Same requirements" },
                model: ["Clearance"],
                keyDates: ["2018: Full mandate"],
                strategic: { tam: 20, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "CRC fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "Ministerio de Hacienda",
                portal: "hacienda.go.cr"
            },
            {
                country: "Paraguay",
                flag: "üáµüáæ",
                region: "LATAM",
                gdp: 44,
                b2b: { status: "Mandatory", date: "2017", detail: "Factura electr√≥nica (SIFEN system)" },
                b2g: { status: "Mandatory", date: "2017", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2019", detail: "Gradual expansion completed" },
                model: ["Clearance"],
                keyDates: ["2017: Large taxpayers", "2019: Full mandate"],
                strategic: { tam: 15, competitors: "Local providers", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "PYG fines", threshold: "All taxpayers", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "SET",
                portal: "set.gov.py"
            },
            {
                country: "Nicaragua",
                flag: "üá≥üáÆ",
                region: "LATAM",
                gdp: 17,
                b2b: { status: "Voluntary", date: "-", detail: "E-invoicing framework under development" },
                b2g: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                b2c: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 5, competitors: "Limited", potential: 2, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "DGI Nicaragua",
                portal: "dgi.gob.ni"
            },
            {
                country: "Venezuela",
                flag: "üáªüá™",
                region: "LATAM",
                gdp: 100,
                b2b: { status: "Mandatory", date: "2018", detail: "Factura electr√≥nica mandatory for special taxpayers" },
                b2g: { status: "Mandatory", date: "2018", detail: "Same as B2B" },
                b2c: { status: "Voluntary", date: "-", detail: "Not fully mandated" },
                model: ["CTC"],
                keyDates: ["2018: Special taxpayers", "Gradual expansion"],
                strategic: { tam: 30, competitors: "Limited", potential: 2, barriers: "High", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "VES fines", threshold: "Special taxpayers", realtime: "Yes", residency: "Yes", complexity: "High" },
                taxAuthority: "SENIAT",
                portal: "seniat.gob.ve"
            },

            // Africa Region (8 countries)
            {
                country: "Nigeria",
                flag: "üá≥üá¨",
                region: "Africa",
                gdp: 285,
                b2b: { status: "Mandatory", date: "Nov 2025", detail: "Large taxpayers (‚â•N5B); all Jan 2026" },
                b2g: { status: "Mandatory", date: "Nov 2025", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "Nov 2025", detail: "Near-real-time reporting >N50K" },
                model: ["Clearance", "CTC", "Peppol"],
                keyDates: ["Jul 2025: Pilot", "Nov 2025: Large taxpayers", "Jan 2026: All SMEs"],
                strategic: { tam: 100, competitors: "Limited", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "High" },
                compliance: { accreditation: "NITDA certification", penalties: "N200,000 + 100% tax", threshold: "N5B first wave", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "FIRS",
                portal: "einvoice.firs.gov.ng"
            },
            {
                country: "Kenya",
                flag: "üá∞üá™",
                region: "Africa",
                gdp: 132,
                b2b: { status: "Mandatory", date: "Sep 2023", detail: "eTIMS mandatory for all businesses" },
                b2g: { status: "Mandatory", date: "Sep 2023", detail: "IFMIS integrated with eTIMS" },
                b2c: { status: "Mandatory", date: "Sep 2023", detail: "Same requirements" },
                model: ["CTC"],
                keyDates: ["Sep 2023: All businesses", "Jan 2024: Non-compliant expenses disallowed", "Jan 2026: Return validation"],
                strategic: { tam: 50, competitors: "Limited", potential: 4, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "No", penalties: "KES 1M or 3 years", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "KRA",
                portal: "etims.kra.go.ke"
            },
            {
                country: "Tanzania",
                flag: "üáπüáø",
                region: "Africa",
                gdp: 85,
                b2b: { status: "Mandatory", date: "2022", detail: "VFD (Virtual Fiscal Device) required" },
                b2g: { status: "Mandatory", date: "2022", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2022", detail: "EFD receipts required" },
                model: ["CTC"],
                keyDates: ["2022: VFD mandatory"],
                strategic: { tam: 20, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "TZS fines", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes", complexity: "Low" },
                taxAuthority: "TRA",
                portal: "tra.go.tz"
            },
            {
                country: "Uganda",
                flag: "üá∫üá¨",
                region: "Africa",
                gdp: 50,
                b2b: { status: "Mandatory", date: "2021", detail: "EFRIS system" },
                b2g: { status: "Mandatory", date: "2021", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2021", detail: "Same requirements" },
                model: ["CTC"],
                keyDates: ["2021: EFRIS mandatory"],
                strategic: { tam: 15, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "UGX fines", threshold: "All VAT-registered", realtime: "Yes", residency: "Yes", complexity: "Low" },
                taxAuthority: "URA",
                portal: "ura.go.ug"
            },
            {
                country: "Rwanda",
                flag: "üá∑üáº",
                region: "Africa",
                gdp: 14,
                b2b: { status: "Mandatory", date: "Jan 2021", detail: "Certified EIS or EBM required" },
                b2g: { status: "Mandatory", date: "Jan 2021", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "Jan 2021", detail: "Same requirements" },
                model: ["CTC"],
                keyDates: ["Jan 2021: Full mandate"],
                strategic: { tam: 5, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "RWF fines", threshold: "All businesses", realtime: "Yes", residency: "Yes", complexity: "Low" },
                taxAuthority: "RRA",
                portal: "rra.gov.rw"
            },
            {
                country: "Ethiopia",
                flag: "üá™üáπ",
                region: "Africa",
                gdp: 156,
                b2b: { status: "Planned", date: "2026", detail: "Electronic receipts system planned" },
                b2g: { status: "Planned", date: "2026", detail: "Same timeline" },
                b2c: { status: "Voluntary", date: "-", detail: "Paper receipts with controls" },
                model: ["CTC"],
                keyDates: ["2026: Expected launch"],
                strategic: { tam: 20, competitors: "None", potential: 3, barriers: "Medium", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "TBD", penalties: "TBD", threshold: "TBD", realtime: "TBD", residency: "TBD", complexity: "Medium" },
                taxAuthority: "MoR",
                portal: "mor.gov.et"
            },
            {
                country: "Ghana",
                flag: "üá¨üá≠",
                region: "Africa",
                gdp: 76,
                b2b: { status: "Mandatory", date: "2022", detail: "All taxable persons mandated (phased rollout)" },
                b2g: { status: "Mandatory", date: "2022", detail: "Same as B2B" },
                b2c: { status: "Mandatory", date: "2024", detail: "Extended to B2C transactions" },
                model: ["CTC"],
                keyDates: ["2022: B2B/B2G phased rollout", "2024: B2C mandatory", "All taxable persons now covered"],
                strategic: { tam: 30, competitors: "Limited", potential: 3, barriers: "Medium", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "Yes", penalties: "GHS fines", threshold: "All taxable persons", realtime: "Yes", residency: "Yes", complexity: "Medium" },
                taxAuthority: "GRA",
                portal: "gra.gov.gh"
            },
            {
                country: "South Africa",
                flag: "üáøüá¶",
                region: "Africa",
                gdp: 399,
                b2b: { status: "N/A", date: "-", detail: "No e-invoicing mandate announced" },
                b2g: { status: "N/A", date: "-", detail: "No e-invoicing mandate announced" },
                b2c: { status: "N/A", date: "-", detail: "No e-invoicing mandate announced" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 150, competitors: "SAP, Sage", potential: 4, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "N/A" },
                taxAuthority: "SARS",
                portal: "sars.gov.za"
            },
            {
                country: "Namibia",
                flag: "üá≥üá¶",
                region: "Africa",
                gdp: 13,
                b2b: { status: "Voluntary", date: "-", detail: "No e-invoicing mandate announced" },
                b2g: { status: "Voluntary", date: "-", detail: "No e-invoicing mandate announced" },
                b2c: { status: "Voluntary", date: "-", detail: "No e-invoicing mandate announced" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 5, competitors: "Limited", potential: 2, barriers: "Low", partnership: "Recommended", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "NamRA",
                portal: "namra.org.na"
            },
            {
                country: "Republic of Congo",
                flag: "üá®üá¨",
                region: "Africa",
                gdp: 16,
                b2b: { status: "Voluntary", date: "-", detail: "E-invoicing being explored" },
                b2g: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                b2c: { status: "Voluntary", date: "-", detail: "No mandate announced" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 5, competitors: "Limited", potential: 2, barriers: "Medium", partnership: "Required", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Medium" },
                taxAuthority: "Direction des Imp√¥ts",
                portal: "impots.gouv.cg"
            },

            // North America Region (2 countries)
            {
                country: "USA",
                flag: "üá∫üá∏",
                region: "North America",
                gdp: 27360,
                b2b: { status: "N/A", date: "-", detail: "No federal mandate" },
                b2g: { status: "N/A", date: "-", detail: "No federal mandate" },
                b2c: { status: "N/A", date: "-", detail: "No federal mandate" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 2000, competitors: "SAP, Oracle, Coupa", potential: 5, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "N/A" },
                taxAuthority: "IRS",
                portal: "irs.gov"
            },
            {
                country: "Canada",
                flag: "üá®üá¶",
                region: "North America",
                gdp: 2140,
                b2b: { status: "Voluntary", date: "-", detail: "No mandate" },
                b2g: { status: "Voluntary", date: "-", detail: "No mandate" },
                b2c: { status: "Voluntary", date: "-", detail: "No mandate" },
                model: ["Peppol"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 400, competitors: "SAP, Oracle", potential: 3, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "Low" },
                taxAuthority: "CRA",
                portal: "canada.ca/en/revenue-agency"
            },
            {
                country: "The Bahamas",
                flag: "üáßüá∏",
                region: "North America",
                gdp: 14,
                b2b: { status: "N/A", date: "-", detail: "No e-invoicing mandate" },
                b2g: { status: "N/A", date: "-", detail: "No e-invoicing mandate" },
                b2c: { status: "N/A", date: "-", detail: "No e-invoicing mandate" },
                model: ["N/A"],
                keyDates: ["No announced timeline"],
                strategic: { tam: 5, competitors: "Limited", potential: 1, barriers: "Low", partnership: "No", urgency: "Low" },
                compliance: { accreditation: "N/A", penalties: "N/A", threshold: "N/A", realtime: "N/A", residency: "N/A", complexity: "N/A" },
                taxAuthority: "Inland Revenue Department",
                portal: "inlandrevenue.finance.gov.bs"
            }
        ];

        let sortColumn = '';
        let sortDirection = 'asc';

        function getStatusClass(status) {
            switch(status) {
                case 'Mandatory': return 'badge-mandatory';
                case 'Planned': return 'badge-planned';
                case 'Voluntary': return 'badge-voluntary';
                default: return 'badge-na';
            }
        }

        function getRegionClass(region) {
            switch(region) {
                case 'MENA': return 'region-mena';
                case 'Europe': return 'region-europe';
                case 'APAC': return 'region-apac';
                case 'LATAM': return 'region-latam';
                case 'Africa': return 'region-africa';
                case 'North America': return 'region-northamerica';
                default: return '';
            }
        }

        function getModelClass(model) {
            switch(model) {
                case 'Clearance': return 'model-clearance';
                case 'Peppol': return 'model-peppol';
                case 'CTC': return 'model-ctc';
                case 'Post-Audit': return 'model-postaudit';
                default: return '';
            }
        }

        function getPriority(country) {
            const urgency = country.strategic?.urgency || 'Low';
            if (urgency === 'High') return 'high';
            if (urgency === 'Medium') return 'medium';
            return 'low';
        }

        function renderTable(data) {
            const tbody = document.getElementById('table-body');
            tbody.innerHTML = '';

            data.forEach(country => {
                const row = document.createElement('tr');
                row.className = getRegionClass(country.region);

                row.innerHTML = `
                    <td>
                        <div class="country-cell">
                            <span class="flag">${country.flag}</span>
                            <span>${country.country}</span>
                        </div>
                    </td>
                    <td>${country.region}</td>
                    <td class="gdp-cell">$${country.gdp.toLocaleString()}B</td>
                    <td class="mandate-cell">
                        <span class="badge ${getStatusClass(country.b2b.status)}">${country.b2b.status}</span>
                        <div class="mandate-date">${country.b2b.date !== '-' ? country.b2b.date : ''}</div>
                        <div class="mandate-detail">${country.b2b.detail}</div>
                    </td>
                    <td class="mandate-cell">
                        <span class="badge ${getStatusClass(country.b2g.status)}">${country.b2g.status}</span>
                        <div class="mandate-date">${country.b2g.date !== '-' ? country.b2g.date : ''}</div>
                        <div class="mandate-detail">${country.b2g.detail}</div>
                    </td>
                    <td class="mandate-cell">
                        <span class="badge ${getStatusClass(country.b2c.status)}">${country.b2c.status}</span>
                        <div class="mandate-date">${country.b2c.date !== '-' ? country.b2c.date : ''}</div>
                        <div class="mandate-detail">${country.b2c.detail}</div>
                    </td>
                    <td>
                        ${country.model.map(m => `<span class="model-badge ${getModelClass(m)}">${m}</span>`).join('')}
                    </td>
                    <td>
                        ${country.keyDates.map(d => `<div style="font-size: 0.75rem; margin-bottom: 0.25rem;">${d}</div>`).join('')}
                    </td>
                    <td>
                        ${country.portal ? `<a href="https://${country.portal}" target="_blank" style="color: var(--primary); text-decoration: none; font-weight: 500;">${country.taxAuthority || '-'}</a>` : (country.taxAuthority || '-')}
                    </td>
                    <td style="font-size: 0.8rem; color: var(--primary);">
                        ${country.providers || '-'}
                    </td>
                    <td class="callout-cell">
                        ${country.strategic ? `
                            <div class="callout-item"><span class="callout-label">TAM:</span> $${country.strategic.tam}M</div>
                            <div class="callout-item"><span class="callout-label">Potential:</span> ${country.strategic.potential}/5</div>
                            <div class="callout-item"><span class="callout-label">Barriers:</span> ${country.strategic.barriers}</div>
                            <div class="callout-item"><span class="callout-label">Urgency:</span> <span class="urgency-${country.strategic.urgency?.toLowerCase()}">${country.strategic.urgency}</span></div>
                        ` : '-'}
                    </td>
                    <td class="callout-cell">
                        ${country.compliance ? `
                            <div class="callout-item"><span class="callout-label">Accreditation:</span> ${country.compliance.accreditation}</div>
                            <div class="callout-item"><span class="callout-label">Real-time:</span> ${country.compliance.realtime}</div>
                            <div class="callout-item"><span class="callout-label">Residency:</span> ${country.compliance.residency}</div>
                            <div class="callout-item"><span class="callout-label">Complexity:</span> ${country.compliance.complexity}</div>
                        ` : '-'}
                    </td>
                `;

                tbody.appendChild(row);
            });

            updateStats(data);
        }

        function updateStats(data) {
            const mandatory = data.filter(c => c.b2b.status === 'Mandatory').length;
            const planned = data.filter(c => c.b2b.status === 'Planned').length;
            const voluntary = data.filter(c => c.b2b.status === 'Voluntary').length;
            const urgent = data.filter(c => c.strategic?.urgency === 'High').length;

            document.getElementById('stat-mandatory').textContent = mandatory;
            document.getElementById('stat-upcoming').textContent = planned;
            document.getElementById('stat-voluntary').textContent = voluntary;
            document.getElementById('stat-urgent').textContent = urgent;
        }

        function filterData() {
            const region = document.getElementById('filter-region').value;
            const b2b = document.getElementById('filter-b2b').value;
            const priority = document.getElementById('filter-priority').value;
            const model = document.getElementById('filter-model').value;
            const search = document.getElementById('search').value.toLowerCase();

            let filtered = countryData.filter(country => {
                if (region && country.region !== region) return false;
                if (b2b && country.b2b.status !== b2b) return false;
                if (priority && getPriority(country) !== priority) return false;
                if (model && !country.model.includes(model)) return false;
                if (search && !(
                    country.country.toLowerCase().includes(search) ||
                    country.taxAuthority?.toLowerCase().includes(search) ||
                    country.region.toLowerCase().includes(search) ||
                    country.b2b.detail?.toLowerCase().includes(search)
                )) return false;
                return true;
            });

            if (sortColumn) {
                filtered.sort((a, b) => {
                    let valA, valB;
                    switch(sortColumn) {
                        case 'country':
                            valA = a.country;
                            valB = b.country;
                            break;
                        case 'region':
                            valA = a.region;
                            valB = b.region;
                            break;
                        case 'gdp':
                            valA = a.gdp;
                            valB = b.gdp;
                            break;
                        case 'b2b':
                            valA = a.b2b.status;
                            valB = b.b2b.status;
                            break;
                        case 'b2g':
                            valA = a.b2g.status;
                            valB = b.b2g.status;
                            break;
                        case 'b2c':
                            valA = a.b2c.status;
                            valB = b.b2c.status;
                            break;
                        default:
                            return 0;
                    }

                    if (typeof valA === 'string') {
                        return sortDirection === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
                    }
                    return sortDirection === 'asc' ? valA - valB : valB - valA;
                });
            }

            renderTable(filtered);

            // Show no results message
            if (filtered.length === 0) {
                document.getElementById('table-body').innerHTML = '<tr><td colspan="12" style="text-align:center;padding:2rem;color:var(--gray-500);">No matching records found. Try adjusting your filters.</td></tr>';
            }
        }

        function sortTable(column) {
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }
            // Update sort icons
            document.querySelectorAll('th .sort-icon').forEach(icon => icon.textContent = '‚Üï');
            const activeHeader = document.querySelector(`th[onclick="sortTable('${column}')"] .sort-icon`);
            if (activeHeader) activeHeader.textContent = sortDirection === 'asc' ? '‚Üë' : '‚Üì';
            filterData();
        }

        function resetFilters() {
            document.getElementById('filter-region').value = '';
            document.getElementById('filter-b2b').value = '';
            document.getElementById('filter-priority').value = '';
            document.getElementById('filter-model').value = '';
            document.getElementById('search').value = '';
            sortColumn = '';
            sortDirection = 'asc';
            filterData();
        }

        function exportCSV() {
            const headers = ['Country', 'Region', 'GDP ($B)', 'B2B Status', 'B2B Date', 'B2G Status', 'B2G Date', 'B2C Status', 'B2C Date', 'Model', 'TAM ($M)', 'Urgency', 'Complexity'];

            const rows = countryData.map(c => [
                c.country,
                c.region,
                c.gdp,
                c.b2b.status,
                c.b2b.date,
                c.b2g.status,
                c.b2g.date,
                c.b2c.status,
                c.b2c.date,
                c.model.join('; '),
                c.strategic?.tam || '',
                c.strategic?.urgency || '',
                c.compliance?.complexity || ''
            ]);

            const csv = [headers, ...rows].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'clear-einvoice-mandates.csv';
            a.click();
        }

        // Event listeners
        document.getElementById('filter-region').addEventListener('change', filterData);
        document.getElementById('filter-b2b').addEventListener('change', filterData);
        document.getElementById('filter-priority').addEventListener('change', filterData);
        document.getElementById('filter-model').addEventListener('change', filterData);
        document.getElementById('search').addEventListener('input', filterData);

        // Initial render
        renderTable(countryData);

        // Set dynamic date
        const dataDate = new Date(2026, 0, 14); // Data version date
        document.getElementById('last-updated').textContent = dataDate.toLocaleDateString('en-US', {month: 'long', day: 'numeric', year: 'numeric'});
        document.getElementById('country-count').textContent = countryData.length + ' Countries | 6 Regions';

        // Section switching with URL hash support
        function showSection(section, updateHash = true) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

            const sectionEl = document.getElementById('section-' + section);
            if (sectionEl) {
                sectionEl.classList.add('active');
            }

            // Update active nav button
            const navBtns = document.querySelectorAll('.nav-btn');
            const sectionMap = ['master', 'compare', 'timeline', 'market', 'residency', 'legend'];
            const idx = sectionMap.indexOf(section);
            if (idx >= 0 && navBtns[idx]) {
                navBtns[idx].classList.add('active');
            }

            // Update URL hash
            if (updateHash) {
                history.pushState(null, '', '#' + section);
            }

            if (section === 'compare') initCompare();
            if (section === 'timeline') renderTimeline();
        }

        // Handle browser back/forward navigation
        window.addEventListener('hashchange', function() {
            const hash = window.location.hash.slice(1) || 'master';
            showSection(hash, false);
        });

        // Initialize from URL hash on page load
        (function() {
            const hash = window.location.hash.slice(1);
            if (hash && ['master', 'compare', 'timeline', 'market', 'residency', 'legend'].includes(hash)) {
                showSection(hash, false);
            }
        })();

        // Compare functionality
        function initCompare() {
            const s1 = document.getElementById('compare1');
            const s2 = document.getElementById('compare2');
            if (s1.options.length <= 1) {
                countryData.forEach(c => {
                    s1.add(new Option(c.flag + ' ' + c.country, c.country));
                    s2.add(new Option(c.flag + ' ' + c.country, c.country));
                });
            }
        }
        document.getElementById('compare1').addEventListener('change', updateCompare);
        document.getElementById('compare2').addEventListener('change', updateCompare);

        function updateCompare() {
            const c1 = countryData.find(c => c.country === document.getElementById('compare1').value);
            const c2 = countryData.find(c => c.country === document.getElementById('compare2').value);
            document.getElementById('compare-grid').innerHTML = renderCompareCard(c1, 'left') + renderCompareCard(c2, 'right');
        }

        function quickCompare(country1, country2) {
            document.getElementById('compare1').value = country1;
            document.getElementById('compare2').value = country2;
            updateCompare();
        }

        function renderCompareCard(c, side) {
            if (!c) return `<div class="compare-card compare-card-empty">
                <div class="compare-card-empty-icon">${side === 'left' ? '1' : '2'}</div>
                <div class="compare-card-empty-text">Select Country ${side === 'left' ? '1' : '2'}</div>
                <div class="compare-card-empty-hint">Choose from the dropdown above</div>
            </div>`;
            return `<div class="compare-card">
                <div class="compare-header ${side}"><div class="compare-flag">${c.flag}</div><div class="compare-name">${c.country}</div><div>${c.region} | GDP: $${c.gdp}B</div></div>
                <div class="compare-section"><h4>Mandate Status</h4>
                    <div class="compare-row"><span class="compare-label">B2B</span><span class="compare-value"><span class="badge ${getStatusClass(c.b2b.status)}">${c.b2b.status}</span> ${c.b2b.date !== '-' ? c.b2b.date : ''}<br><small>${c.b2b.detail}</small></span></div>
                    <div class="compare-row"><span class="compare-label">B2G</span><span class="compare-value"><span class="badge ${getStatusClass(c.b2g.status)}">${c.b2g.status}</span> ${c.b2g.date !== '-' ? c.b2g.date : ''}</span></div>
                    <div class="compare-row"><span class="compare-label">B2C</span><span class="compare-value"><span class="badge ${getStatusClass(c.b2c.status)}">${c.b2c.status}</span> ${c.b2c.date !== '-' ? c.b2c.date : ''}</span></div>
                </div>
                <div class="compare-section"><h4>Model</h4><div>${c.model.map(m => '<span class="model-badge ' + getModelClass(m) + '">' + m + '</span>').join(' ')}</div></div>
                <div class="compare-section"><h4>Key Dates</h4>${c.keyDates.map(d => '<div style="font-size:0.8rem;padding:0.25rem 0;border-left:2px solid var(--primary);padding-left:0.5rem;margin:0.25rem 0">' + d + '</div>').join('')}</div>
                <div class="compare-section"><h4>Compliance</h4>
                    <div class="info-grid">
                        <div class="info-item"><div class="info-label">Accreditation</div><div class="info-value">${c.compliance?.accreditation || 'N/A'}</div></div>
                        <div class="info-item"><div class="info-label">Real-time</div><div class="info-value">${c.compliance?.realtime || 'N/A'}</div></div>
                        <div class="info-item"><div class="info-label">Data Residency</div><div class="info-value">${c.compliance?.residency || 'N/A'}</div></div>
                        <div class="info-item"><div class="info-label">Complexity</div><div class="info-value">${c.compliance?.complexity || 'N/A'}</div></div>
                    </div>
                </div>
                <div class="compare-section"><h4>Strategic</h4>
                    <div class="info-grid">
                        <div class="info-item"><div class="info-label">TAM</div><div class="info-value">$${c.strategic?.tam || 0}M</div></div>
                        <div class="info-item"><div class="info-label">Urgency</div><div class="info-value urgency-${(c.strategic?.urgency || 'low').toLowerCase()}">${c.strategic?.urgency || 'N/A'}</div></div>
                        <div class="info-item"><div class="info-label">Barriers</div><div class="info-value">${c.strategic?.barriers || 'N/A'}</div></div>
                        <div class="info-item"><div class="info-label">Authority</div><div class="info-value">${c.taxAuthority || 'N/A'}</div></div>
                    </div>
                </div>
            </div>`;
        }

        // Timeline functionality with proper date sorting
        function parseDate(dateStr) {
            const months = {jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12};
            const str = dateStr.toLowerCase();
            let month = 1, year = 2030;

            // Extract year
            const yearMatch = str.match(/(\d{4})/);
            if (yearMatch) year = parseInt(yearMatch[1]);

            // Extract month
            for (const [m, num] of Object.entries(months)) {
                if (str.includes(m)) { month = num; break; }
            }

            // Return sortable number: YYYYMM
            return year * 100 + month;
        }

        function getTypeBadge(type) {
            const classes = {B2B:'type-b2b',B2G:'type-b2g',B2C:'type-b2c'};
            return `<span class="type-badge ${classes[type]}">${type}</span>`;
        }

        function renderTimeline() {
            const container = document.getElementById('timeline-container');
            const regionFilter = document.getElementById('timeline-region')?.value || '';
            const typeFilter = document.getElementById('timeline-type')?.value || '';
            const events = [];

            countryData.forEach(c => {
                if (regionFilter && c.region !== regionFilter) return;
                if (c.b2b.status === 'Planned' && c.b2b.date !== '-') {
                    if (!typeFilter || typeFilter === 'B2B') events.push({ date: c.b2b.date, sortKey: parseDate(c.b2b.date), country: c.country, flag: c.flag, region: c.region, type: 'B2B', detail: c.b2b.detail });
                }
                if (c.b2g.status === 'Planned' && c.b2g.date !== '-') {
                    if (!typeFilter || typeFilter === 'B2G') events.push({ date: c.b2g.date, sortKey: parseDate(c.b2g.date), country: c.country, flag: c.flag, region: c.region, type: 'B2G', detail: c.b2g.detail });
                }
                if (c.b2c.status === 'Planned' && c.b2c.date !== '-') {
                    if (!typeFilter || typeFilter === 'B2C') events.push({ date: c.b2c.date, sortKey: parseDate(c.b2c.date), country: c.country, flag: c.flag, region: c.region, type: 'B2C', detail: c.b2c.detail });
                }
            });

            // Sort by sortKey (YYYYMM format)
            events.sort((a, b) => a.sortKey - b.sortKey);

            // Group by year
            const years = {};
            events.forEach(e => {
                const year = e.date.match(/\d{4}/)?.[0] || '2025+';
                if (!years[year]) years[year] = [];
                years[year].push(e);
            });

            document.getElementById('timeline-count').textContent = events.length + ' upcoming mandates';

            if (events.length === 0) {
                container.innerHTML = '<p style="color:var(--gray-500);text-align:center;padding:2rem;">No upcoming mandates match the selected filters</p>';
                return;
            }

            // Sort years and render
            const sortedYears = Object.keys(years).sort((a, b) => parseInt(a) - parseInt(b));
            container.innerHTML = sortedYears.map(year => `
                <div class="timeline-year"><h3>üìÖ ${year}</h3><div class="timeline-events">
                    ${years[year].map(e => `<div class="timeline-event">
                        <span class="timeline-date">${e.date}</span>
                        <span class="timeline-country">${e.flag} ${e.country} ${getTypeBadge(e.type)}</span>
                        <span class="timeline-detail">${e.detail}</span>
                    </div>`).join('')}
                </div></div>
            `).join('');
        }
    </script>
</body>
</html>
